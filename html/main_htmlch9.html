<!DOCTYPE html> 
<html lang='en-US' xml:lang='en-US'> 
<head><title>9 Measurement-based quantum computation</title> 
<meta charset='utf-8' /> 
<meta content='TeX4ht (https://tug.org/tex4ht/)' name='generator' /> 
<meta content='width=device-width,initial-scale=1' name='viewport' /> 
<link href='main_html.css' rel='stylesheet' type='text/css' /> 
<meta content='main_html.tex' name='src' /> 
 <script async='async' id='MathJax-script' src='https://cdn.jsdelivr.net/npm/mathjax@3/es5/mml-chtml.js' type='text/javascript'></script>  
</head><body>
   <!-- l. 7 --><div class='crosslinks'><p class='noindent'>[<a href='main_htmlch10.html'>next</a>] [<a href='main_htmlch8.html'>prev</a>] [<a href='main_htmlch8.html#tailmain_htmlch8.html'>prev-tail</a>] [<a href='#tailmain_htmlch9.html'>tail</a>] [<a href='main_html.html#main_htmlch9.html'>up</a>] </p></div>
   <h2 class='chapterHead' id='measurementbased-quantum-computation'><span class='titlemark'>Chapter 9</span><br /><a id='x12-1970009'></a>Measurement-based quantum computation</h2>
<!-- l. 9 --><p class='noindent'>Up to this point, whenever we talked about a quantum computation, we were talking
about the <span class='cmbx-10x-x-109'>circuit model</span>. In this model of computation you start with a simple state,
usually <!-- l. 9 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mn>0</mn><mo class='MathClass-rel' stretchy='false'>⋯</mo><mn>0</mn><mo class='MathClass-close' stretchy='false'>⟩</mo></mrow></math>,
which is then inserted into a <span class='cmti-10x-x-109'>quantum circuit</span>, i.e. a collection of simple
unitaries that combine to make something more complex. At the end
we measure the qubits in some fixed basis, and the outcome of these
measurements is the outcome of our computation. This model of quantum
computation is inspired by classic logic circuits. It is a <span class='cmti-10x-x-109'>universal </span>model,
meaning that we can in fact present arbitrary quantum computations in
this way. This however does not mean that this is always the best way
to think of a quantum computation, or the one that matches the most
closely to how a real-world quantum computer would function. There are
more ways to implement a computation on a quantum state than just by
directly performing a unitary on it. If we have some entangled state, then
measurement of one part of the state induces an action on the other part.
Depending on the entanglement and the measurement this action could be
unitary or non-unitary. Let’s take for example a slight modification of the
teleportation example of Section <a href='main_htmlch3.html#teleportation'>3.3.2<!-- tex4ht:ref: sec:teleportation  --></a> that we also saw in Section <a href='main_htmlch6.html#the-clifford-hierarchy'>6.5<!-- tex4ht:ref: sec:clifford-hierarchy  --></a>:
</p><table class='equation'><tr><td>
<!-- l. 11 --><p class='indent'>
</p><!-- l. 11 --><object id='x12-197001r1' data="svgs/eq-teleportation-MBQC.svg" alt="diagram of eq:teleportation-MBQC" class="svg-diagram"></object></td><td class='eq-no'>(9.1)</td></tr></table>
<!-- l. 14 --><p class='indent'>   In this example of <span class='cmbx-10x-x-109'>gate teleportation </span>we have some maximally entangled
state <!-- l. 14 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>ψ</mi><mo class='MathClass-close' stretchy='false'>⟩</mo></mrow></math>,
which we entangle with the qubit we want to do a computation on using a
CNOT. By then measuring some qubits, the resulting state has a unitary
<!-- l. 14 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>U</mi></math>
and a Pauli applied to it. The Pauli we apply however is determined
by the measurement outcome. This is an inevitable feature of using
measurements to do computations: <span class='cmbx-10x-x-109'>measurement non-determinism</span>. Since
we don’t control which Pauli gets applied, and it is ‘stuck’ behind the
<!-- l. 14 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>U</mi></math>, this
                                                                     

                                                                     
seems like it would prevent us to control which computations get executed.
However, it turns out that for smart choices of measurements and smart choices
of <!-- l. 14 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>U</mi></math>,
we can <span class='cmbx-10x-x-109'>feed-forward </span>the Pauli errors. In this way we can make the
non-determinism ‘deterministic enough’ to work for us. There are various degrees
of how much we can use measurements to do computations for us. On one end of
the spectrum we don’t use measurements at all, performing all computations
with unitary gates. Moving a bit further along the spectrum we can decide to
implement only certain types of gates using gate teleportation (like in Eq. (<a href='#x12-197001r1'>9.1<!-- tex4ht:ref: eq:teleportation-MBQC  --></a>)),
or using its closely related cousin of <span class='cmti-10x-x-109'>state injection</span>. Even further along the
spectrum we can let all multi-qubit dynamics be taken care of by measurements,
which is the case in <span class='cmti-10x-x-109'>lattice surgery </span>or <span class='cmti-10x-x-109'>fusion-based computation</span>. We will have a
lot more to say about lattice surgery in Chapter <a href='main_htmlch12.html#quantum-error-correction'>12<!-- tex4ht:ref: ch:qec  --></a>. On the extreme end of the
measurement-based scale is the <span class='cmbx-10x-x-109'>one-way model</span>, where arguably <span class='cmti-10x-x-109'>all</span>
computation is done by measurements. In the one-way model we start with a
large entangled graph state, and then we perform single-qubit measurements
in different rotated bases. The choice of which qubit to measure and
in what basis it is measured is informed by the computation you want
to do and what the previous measurement outcomes were, while the
starting graph state (apart from its given size) usually doesn’t depend on
the particular computation. In this model <span class='cmti-10x-x-109'>all </span>computation is done by
measurements. Such a computation might for instance look like the following:
</p><table class='equation'><tr><td>
<!-- l. 19 --><p class='indent'>
</p><!-- l. 19 --><object id='x12-197002r2' data="svgs/MBQC-example.svg" alt="diagram of MBQC-example" class="svg-diagram"></object></td><td class='eq-no'>(9.2)</td></tr></table>
<!-- l. 22 --><p class='indent'>   Here we start with a four qubit graph state, and then we
measure each of these in different bases. The Boolean variables
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math>,
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>b</mi></math>,
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>c</mi></math> and
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>d</mi></math>
represent each of the measurement outcomes and are the output of this
computation. In this example we have pre-determined <span class='cmbx-10x-x-109'>measurement
planes</span>, i.e. whether the measurement takes place in a (rotated)
                                                                     

                                                                     
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math> or
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math> basis, but some
<span class='cmti-10x-x-109'>adaptive </span>measurement angles. I.e. while the top qubit is always measured in a basis with angle
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> </mrow></math>, the third qubit has a
measurement angle <!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi></mrow></msup><mfrac><mrow><mi>π</mi></mrow> 
<mrow><mn>4</mn></mrow></mfrac> </mrow></math>,
meaning that whether we measure it in the angle
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>4</mn></mrow></mfrac> </mrow></math> or
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>−</mo><mfrac><mrow><mi>π</mi></mrow> 
<mrow><mn>4</mn></mrow></mfrac> </mrow></math>
depends on the measurement outcome of the qubit
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math>. This
means there is an order fixed on the measurements of these qubits, with qubit
<!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math> having to be measured
before qubit <!-- l. 22 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>c</mi></math>.
Collectively, we call models of quantum computation using measurements
<span class='cmbx-10x-x-109'>measurement-based quantum computing </span>(MBQC). While the circuit model
is inspired by classical circuits, MBQC has no classical counterpart. There are
various reasons why we might want to consider MBQC as opposed to quantum
circuits: </p>
     <ul class='itemize1'>
     <li class='itemize'>Certain unitaries might be tricky to implement, requiring trial and
     error. By using a technique like gate injection we can prepare resource
     states ‘offline’, and have them ready for when they are needed.
     </li>
     <li class='itemize'>Replacing unitaries for measurements can sometimes help us trade
     ‘time’ for ‘space’, allowing us to parallelise more computation at the
     cost of requiring more qubits.
     </li>
     <li class='itemize'>For  certain  types  of  hardware,  it  makes  less  sense  to  implement
     operations using a series of simple unitaries, instead preferring to do
     more measurements so that your qubits are shorter-lived. For instance,
     if the qubits are photons, we can entangle them by doing a fusion
     measurement and then doing simple rotations and measurements. This
     is preferable since it is hard to store photons for a longer period of
     time, so here the trade-off between time and space needs to be more
     in the space direction.
     </li>
     <li class='itemize'>When  we  consider  fault-tolerant  models  of  computation  like  in
     Chapter <a href='main_htmlch12.html#quantum-error-correction'>12<!-- tex4ht:ref: ch:qec  --></a>, we will be doing constant measurements anyway in order
     to protect our data against errors, so why not use measurements to
     enact operations on our data at the same time. </li></ul>
<!-- l. 30 --><p class='noindent'>In this chapter we will look in detail at the one-way model. It turns out that
graph-like diagrams can naturally be understood as measurement patterns
(Section <a href='#graphlike-zxdiagrams-as-measurement-fragments'>9.2.1<!-- tex4ht:ref: sec:fragment-to-graph-like  --></a>). In this way we can see that we can indeed do universal quantum
computation in the one-way model. We will also see more broadly how we can
determine when a computation can be made deterministic. We do this
by studying <span class='cmti-10x-x-109'>generalised flow</span>, or <span class='cmbx-10x-x-109'>gflow </span>for short, which tells us how to
feed-forward Pauli errors (Section <a href='#the-measurement-correction-game'>9.2.2<!-- tex4ht:ref: sec:measurement-correction-game  --></a>). It turns out that any deterministic
measurement pattern with gflow can be efficiently transformed back into a
quantum circuit (Section <a href='#from-measurement-patterns-to-circuits'>9.4<!-- tex4ht:ref: sec:extraction  --></a>). This gives us a triangle of translations, from
quantum circuits, to ZX-diagrams, to measurement patterns, and back to
quantum circuits. Because we can rewrite ZX-diagrams, this gives us a
unified way to think about circuit optimisation and measurement-pattern
optimisation.
</p>
   <h3 class='sectionHead' id='measurement-fragments'><span class='titlemark'>9.1   </span> <a id='x12-1980009.1'></a>Measurement fragments</h3>
<!-- l. 32 --><p class='noindent'>If we were to formally specify what a computation in the
quantum circuit model is, it would be something like: prepare
<!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>n</mi></math> qubits in the
<!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mn>0</mn><mo class='MathClass-close' stretchy='false'>⟩</mo></mrow></math> state, apply a series
of unitary gates <!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>G</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>G</mi></mrow><mrow><mi>k</mi></mrow></msub></mrow></math>,
then measure all <!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>n</mi></math>
qubits in the computational basis, giving some bit string
<!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover></math>,
and finally post-process this with some output function
<!-- l. 33 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>p</mi><mo class='MathClass-open' stretchy='false'>(</mo><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
giving the final outcome. In contrast, we might formally specify a one-way
computation as follows.
</p>
   <div class='newtheorem'>
<!-- l. 35 --><p class='noindent'><span class='head'>
<a id='x12-198001r1'></a>
<span class='cmbx-10x-x-109'>Definition 9.1.1.</span>  </span> A <span class='cmbx-10x-x-109'>one-way model computation </span>consists of the following
data: </p>
     <ul class='itemize1'>
     <li class='itemize'>A simple undirected graph <!-- l. 38 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     specifying the graph state <!-- l. 38 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>G</mi><mo class='MathClass-close' stretchy='false'>⟩</mo></mrow></math>
     we start the computation with which has <!-- l. 38 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>m</mi></math>
     vertices,
     </li>
     <li class='itemize'>A <span class='cmti-10x-x-109'>measurement order </span><!-- l. 39 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>m</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>V</mi> </mrow></math>
     where <!-- l. 39 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>f</mi></math>
     is bijective,
     </li>
     <li class='itemize'>A <span class='cmti-10x-x-109'>measurement-plane function </span><!-- l. 40 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>λ</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-rel' stretchy='false'>→</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi mathvariant='italic'>XY</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi mathvariant='italic'>XZ</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
     that tells us the measurement plane of every qubit,
     </li>
     <li class='itemize'>for every vertex <!-- l. 41 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     a <span class='cmti-10x-x-109'>measurement-angle function </span><!-- l. 41 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>k</mi><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>}</mo></mrow></msup><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>ℝ</mi></mrow></math>
     that determines the measurement angle of <!-- l. 41 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     which may depend on all the previous measurement outcomes,
     </li>
     <li class='itemize'>An <span class='cmti-10x-x-109'>output function </span><!-- l. 42 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>p</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <msup><mrow><mn>2</mn></mrow><mrow><mi>m</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>→</mo> <mi>S</mi></mrow></math>
     that classically post-processes all the <!-- l. 42 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>m</mi></math>
     measurement outcomes into a final outcome in some set <!-- l. 42 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>S</mi></math>
     (for instance <!-- l. 42 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>S</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>𝔽</mi><mn>2</mn></mrow></math>
     if we care about a binary true/false output). </li></ul>
<!-- l. 44 --><p class='noindent'>To execute it, we prepare the graph state
<!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>G</mi><mo class='MathClass-close' stretchy='false'>⟩</mo></mrow></math>,
and measure the qubits one by one in the order
<!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>2</mn><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo></mrow></math> giving outcomes
<!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>x</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>x</mi></mrow><mrow><mn>2</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo></mrow></math>. They are measured
in the plane <!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>λ</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> with angle
<!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>x</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>x</mi></mrow><mrow><mi>k</mi><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. The final outcome of
the computation is <!-- l. 44 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>p</mi><mo class='MathClass-open' stretchy='false'>(</mo><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
</p>
   </div>
<!-- l. 45 --><p class='indent'>    Note that we will talk about what these ‘measurement
planes’ are in more detail later, for now you can think of the
<!-- l. 46 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> plane as corresponding
                                                                     

                                                                     
to <!-- l. 46 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>-spiders and
the <!-- l. 46 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> plane as
corresponding to <!-- l. 46 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
spiders.
</p>
   <div class='newtheorem'>
<!-- l. 47 --><p class='noindent'><span class='head'>
<a id='x12-198002r2'></a>
<span class='cmbx-10x-x-109'>Remark 9.1.2.</span>  </span>In    Definition <a href='#x12-198001r1'>9.1.1<!-- tex4ht:ref: def:one-way-model  --></a>    we    are    not    allowing    the
measurement-plane to depend on previous measurement outcomes. This is
just for our convenience, and because this model is already universal.
</p>
   </div>
<!-- l. 49 --><p class='indent'>    Definition <a href='#x12-198001r1'>9.1.1<!-- tex4ht:ref: def:one-way-model  --></a> specifies a complete calculation from beginning to end where
all qubits end up measured. If we represent it as a ZX-diagram it hence
corresponds to a scalar ZX-diagram, i.e. a diagram with no inputs or outputs.
This is no different from the circuit model, where for a full computation we also
have to fix an input state and end by measuring all qubits. However, just as it is
useful in the circuit model to think of just a part of a computation which has
some input and output qubits, it is also useful to think of ‘fragments’ of
a measurement-based computation that can be composed together to
create more complicated computations. These fragments have inputs and
outputs just like a quantum circuit would. For instance, a <span class='cmbx-10x-x-109'>measurement
fragment </span>that implements a CNOT gate is given by the following diagram:
</p><table class='equation'><tr><td>
<!-- l. 53 --><p class='indent'>
</p><!-- l. 53 --><object id='x12-198003r3' data="svgs/eq-MBQC-CNOT.svg" alt="diagram of eq:MBQC-CNOT" class="svg-diagram"></object></td><td class='eq-no'>(9.3)</td></tr></table>
<!-- l. 56 --><p class='indent'>   Here the top qubit is both an input and an output and hence isn’t
measured. The third qubit is an input, but is not an output and hence is
measured. The fourth qubit is an output and hence also isn’t measured.
The second qubit is ‘internal’ and is hence prepared and measured as
                                                                     

                                                                     
part of this fragment. The fragment (<a href='#x12-198003r3'>9.3<!-- tex4ht:ref: eq:MBQC-CNOT  --></a>) implements a CNOT gate
up to a known Pauli error that depends on the measurement outcomes
<!-- l. 57 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math> and
<!-- l. 57 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>b</mi></math>. We
can calculate this Pauli error by simplifying the diagram: </p><table class='equation'><tr><td>
<!-- l. 58 --><p class='indent'>
</p><!-- l. 58 --><object id='x12-198004r4' data="svgs/eq-MBQC-CNOT-simp.svg" alt="diagram of eq:MBQC-CNOT-simp" class="svg-diagram"></object></td><td class='eq-no'>(9.4)</td></tr></table>
<!-- l. 61 --><p class='indent'>   Hence we end up with the circuit
<!-- l. 61 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>Z</mi></mrow><mrow><mi>b</mi></mrow></msup> <mo class='MathClass-bin' stretchy='false'>⊗</mo> <mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>Z</mi></mrow><mrow><mi>b</mi></mrow></msup><msup><mrow><mi>X</mi></mrow><mrow><mi>a</mi></mrow></msup><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∘</mo><mstyle class='text'><mtext>CNOT</mtext></mstyle></mrow></math>.
Since the error is a known Pauli, later measurements can be adapted to absorb
these errors so that the overall effect of this measurement fragment is the
application of a CNOT gate. We call this process of pushing Pauli errors outside
of the pattern into the future <span class='cmbx-10x-x-109'>feed-forward</span>. Let’s give a bit more formal
definition of a measurement fragment. For that we need the concept of an open
graph.
</p>
   <div class='newtheorem'>
<!-- l. 63 --><p class='noindent'><span class='head'>
<a id='x12-198005r3'></a>
<span class='cmbx-10x-x-109'>Definition 9.1.3.</span>  </span> An <span class='cmbx-10x-x-109'>open graph </span><!-- l. 64 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
is a graph <!-- l. 64 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
together with a list of <span class='cmbx-10x-x-109'>inputs </span><!-- l. 64 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>I</mi></math>
and <span class='cmbx-10x-x-109'>outputs </span><!-- l. 64 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>O</mi></math>.
These lists consists of vertices of <!-- l. 64 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>,
where repetition of vertices is allowed, and the order is relevant.
</p>
   </div>
<!-- l. 65 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 66 --><p class='noindent'><span class='head'>
<a id='x12-198006r4'></a>
                                                                     

                                                                     
<span class='cmbx-10x-x-109'>Definition 9.1.4.</span>  </span> A <span class='cmbx-10x-x-109'>stand-alone measurement fragment </span>consists of
</p>
     <ul class='itemize1'>
     <li class='itemize'>an open graph <!-- l. 69 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     (recall Definition <a href='#x12-198005r3'>9.1.3<!-- tex4ht:ref: def:open-graph  --></a>) with <!-- l. 69 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and where <!-- l. 69 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>m</mi></math>
     is the number of non-output vertices <!-- l. 69 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi><mo class='MathClass-rel' stretchy='false'>|</mo></mrow></math>,
     </li>
     <li class='itemize'>a measurement order <!-- l. 70 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>m</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>
     where <!-- l. 70 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>f</mi></math>
     is bijective,
     </li>
     <li class='itemize'>A measurement-plane function <!-- l. 71 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>λ</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>→</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi mathvariant='italic'>XY</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi mathvariant='italic'>XZ</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
     that tells us the measurement plane of every non-output vertex, and
     </li>
     <li class='itemize'>for every non-output vertex <!-- l. 72 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     a measurement-angle function <!-- l. 72 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub> <mo class='MathClass-punc' stretchy='false'>:</mo> <msup><mrow><mn>2</mn></mrow><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>k</mi><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>}</mo></mrow></msup><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>ℝ</mi></mrow></math>
     that determines the measurement angle of <!-- l. 72 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     depending on all the previous measurement outcomes. </li></ul>
   </div>
<!-- l. 74 --><p class='indent'>    The reason we call this a ‘stand-alone’ fragment is because this definition
doesn’t deal with fed-forward Pauli errors. To prevent making this too
complicated for now, we postpone that discussion until later. This definition
is maybe a lot to take in, but the corresponding ZX-diagrammatic
picture should make things more clear. We construct the ZX-diagram
corresponding to a measurement fragment as follows. For every vertex in
<!-- l. 77 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>V</mi> </mrow></math> we add a Z-spider,
and for every edge in <!-- l. 77 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>E</mi></math>
we add a Hadamard edge between them. Then we add an input wire on a spider if it is in
<!-- l. 77 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>I</mi></math> and an output
wire if it is in <!-- l. 77 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>O</mi></math>.
This so far gives us a graph-like diagram and an open graph (where the
graph-like diagram is phase-free). However, now we also add an <span class='cmti-10x-x-109'>additional </span>output
wire to every non-output spider, to get a diagram that looks something like this:
</p><table class='equation'><tr><td>
                                                                     

                                                                     
<!-- l. 78 --><p class='indent'>
</p><!-- l. 78 --><object id='x12-198007r5' data="svgs/eq-MBQC-CNOT-fragment.svg" alt="diagram of eq:MBQC-CNOT-fragment" class="svg-diagram"></object></td><td class='eq-no'>(9.5)</td></tr></table>
<!-- l. 81 --><p class='indent'>   Now on each of those additional output wires, we are going to plug in a
measurement effect, corresponding to the measurement plane and angle of that
vertex: </p><table class='equation'><tr><td>
<!-- l. 82 --><p class='indent'>
</p><!-- l. 82 --><object id='x12-198008r6' data="svgs/XY-effect.svg" alt="diagram of XY-effect" class="svg-diagram"></object></td><td class='eq-no'>(9.6)</td></tr></table>
<!-- l. 85 --><p class='indent'>   Here the <!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
denotes the measurement angle of the pattern, and the
<!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>b</mi></mrow><mrow><mi>k</mi></mrow></msub></math> is a
Boolean variable denoting the outcome of the measurement. Note that
<!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub></math> is actually a function
of the variables <!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>b</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>b</mi></mrow><mrow><mi>k</mi><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn></mrow></msub></mrow></math>
representing the outcomes of the previous measurements. These names
<!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>,
<!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> and
<!-- l. 85 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> come
from the fact that these effects lie on those corresponding planes of the Bloch
sphere:
</p>
<div class='center'>
<!-- l. 87 --><p class='noindent'>
                                                                     

                                                                     
</p><!-- l. 88 --><p class='noindent'><object data="svgs/bloch-planes-1.svg" alt="diagram of bloch-planes-1" class="svg-diagram"></object> </p></div>
<!-- l. 91 --><p class='indent'>   We see then that if in the fragment (<a href='#x12-198007r5'>9.5<!-- tex4ht:ref: eq:MBQC-CNOT-fragment  --></a>) we choose
<!-- l. 91 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> for
the measurement-plane of both qubits and we simply set the measurement angles
to <!-- l. 91 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>0</mn></math>
that we get precisely the measurement fragment (<a href='#x12-198003r3'>9.3<!-- tex4ht:ref: eq:MBQC-CNOT  --></a>) implementing
the CNOT gate. We can also construct a fragment that implements
an arbitrary single-qubit unitary. Recall that we can use the Euler
decomposition of such a unitary to write it as a sequence of a
<!-- l. 92 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math> phase gate, and
<!-- l. 92 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math> phase gate, and
then another <!-- l. 92 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
phase gate: <!-- l. 92 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mstyle class='text'><mtext><object data="svgs/euler-decomposition.svg" alt="diagram of euler-decomposition" class="svg-diagram"></object></mtext></mstyle></math>.
Let’s try to write down a measurement fragment that implements this, by putting each of
the phases <!-- l. 94 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>α</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>β</mi></mrow></math>
and <!-- l. 94 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>
into the measurement angle of a qubit: </p><table class='equation'><tr><td>
<!-- l. 95 --><p class='indent'>
</p><!-- l. 95 --><object id='x12-198009r7' data="svgs/eq-MBQC-euler-decomp.svg" alt="diagram of eq:MBQC-euler-decomp" class="svg-diagram"></object></td><td class='eq-no'>(9.7)</td></tr></table>
<!-- l. 98 --><p class='indent'>   This is not exactly correct. There are a couple of things we
need to fix. For one thing, there is a Pauli error at the end: an
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math> gate
depending on <!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>b</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>d</mi></mrow></math>
and a <!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math> error
depending on <!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>a</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>c</mi></mrow></math>.
We will learn how to deal with such errors later. But there is
also a problem with the phases. We want the phases to be
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>,
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> and
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>, but we
see that depending on the measurement outcomes we might have actually gotten
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>−</mo> <mi>β</mi></mrow></math> or
<!-- l. 98 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>−</mo> <mi>γ</mi></mrow></math>. This
                                                                     

                                                                     
is where the condition of Definition <a href='#x12-198006r4'>9.1.4<!-- tex4ht:ref: def:measurement-fragment-stand-alone  --></a> comes in that measurement
angles are allowed to depend on previous measurement outcomes. To
make this fragment do what we want it to do, we need to make it
<span class='cmbx-10x-x-109'>adaptive</span>. We first measure the qubit labelled by the measurement
outcome <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math>. If
<!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>a</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>0</mn></mrow></math>, we measure
the qubit <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>b</mi></math> in
the angle <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>,
which gives what we want. Otherwise we measure it in the angle
<!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>−</mo> <mi>β</mi></mrow></math>. Hence, the measurement
angle is <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi></mrow></msup><mi>β</mi></mrow></math>. Rerunning the
calculation (<a href='#x12-198009r7'>9.7<!-- tex4ht:ref: eq:MBQC-euler-decomp  --></a>) with <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>
replaced by <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi></mrow></msup><mi>β</mi></mrow></math>, we see that
we get the final phase of <!-- l. 100 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi></mrow></msup><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi></mrow></msup><mi>β</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>β</mi></mrow></math>,
so that now the final angle no longer depends on the measurement outcome! We can do the same with
<!-- l. 101 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>, letting the measurement
angle instead be <!-- l. 101 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>b</mi></mrow></msup><mi>γ</mi></mrow></math>.
With these changes the measurement fragment becomes: </p><table class='equation'><tr><td>
<!-- l. 102 --><p class='indent'>
</p><!-- l. 102 --><object id='x12-198010r8' data="svgs/eq-MBQC-euler-decomp-corrected.svg" alt="diagram of eq:MBQC-euler-decomp-corrected" class="svg-diagram"></object></td><td class='eq-no'>(9.8)</td></tr></table>
<!-- l. 105 --><p class='indent'>   Apart from the Pauli error at the end that we still need to deal with, this
implements the unitary we want. Note that in the fragment implementing the
CNOT (<a href='#x12-198003r3'>9.3<!-- tex4ht:ref: eq:MBQC-CNOT  --></a>), the measurement angles didn’t depend on each other, so that the
order of measuring the qubits wasn’t important. In (<a href='#x12-198010r8'>9.8<!-- tex4ht:ref: eq:MBQC-euler-decomp-corrected  --></a>) however, the
measurement angles of some of the qubits depend on the measurement outcomes
of other qubits, so that those qubits have to be measured first. This
gives us a ‘direction of time’ on the pattern. It makes sense that we need
to have some kind of adaptivity or dependency in our calculation. If
we could do universal computation without such dependencies, then
we could measure all qubits simultaneously, and do computations in
constant time! So now we have a measurement fragment implementing a
CNOT and another one implementing arbitrary single-qubit unitaries.
Hence, if we can combine these then we can implement arbitrary unitaries.
However, now we get to why we called these measurement fragments
                                                                     

                                                                     
‘stand-alone’: there is the problem of the Pauli errors. Let’s see what we can do
with them. If a fragment with a Pauli error occurs at the end of our
computation this is easy enough to deal with. At the end, we measure all
the qubits in the computational basis anyway. This means that these
errors just change how we should interpret the measurement outcomes:
</p><table class='equation-star'><tr><td>
<!-- l. 108 --><object data="svgs/measure-expected.svg" alt="diagram of measure-expected" class="svg-diagram"></object></td></tr></table>
<!-- l. 111 --><p class='indent'>   So if we were feedforwarding an <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
error, i.e. <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>x</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>1</mn></mrow></math>
above, then this changes how we should interpret the measurement
outcome we got. If we observe the measurement outcome
<!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>a</mi></mrow><mrow><mi>′</mi></mrow></msup></math> then this is actually
<!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>a</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>a</mi> <mo class='MathClass-bin' stretchy='false'>⊕</mo> <mi>x</mi></mrow></math>. So to get the ‘actual’
measurement outcome <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>a</mi></math>,
we just take <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>a</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-bin' stretchy='false'>⊕</mo> <mi>x</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>a</mi> <mo class='MathClass-bin' stretchy='false'>⊕</mo> <mi>x</mi> <mo class='MathClass-bin' stretchy='false'>⊕</mo> <mi>x</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>a</mi></mrow></math>.
A <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math> error
(<!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>z</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>1</mn></mrow></math>)
doesn’t change the measurement outcome when we measure in the
computational basis, so we can ignore those in this setting. A
<!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> </mrow></math> error, i.e. where
both a <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math> error and an
<!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math> error occurred, we can
treat the same as an <!-- l. 111 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
error here. In general though, the measurement fragment will happen somewhere
in the middle of the computation so that the errors will not change the final
measurement outcomes, but change how we should run the next fragments in the
sequence. For instance, let’s see what would have happened if a Pauli error had
happened on the input qubit prior to executing the measurement fragment (<a href='#x12-198010r8'>9.8<!-- tex4ht:ref: eq:MBQC-euler-decomp-corrected  --></a>):
</p><table class='equation'><tr><td>
<!-- l. 114 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 114 --><object id='x12-198011r9' data="svgs/eq-MBQC-euler-decomp-errors.svg" alt="diagram of eq:MBQC-euler-decomp-errors" class="svg-diagram"></object></td><td class='eq-no'>(9.9)</td></tr></table>
<!-- l. 117 --><p class='indent'>   We see that we can push these errors to the output of the fragment, at the
cost of changing the angles in the unitary to potentially have minus signs, and
additionally changing our output Pauli error. But these Pauli errors we have on
the input arise from measurements we have done before, so we <span class='cmti-10x-x-109'>know </span>what this
error is. This means we can decide the measurement angle of our measured qubits
based on this input Pauli error, in the same way we also change it based
on the measurement outcomes of the qubits internal to the fragment.
The full pattern that can also deal with incoming errors then becomes:
</p><table class='equation'><tr><td>
<!-- l. 118 --><p class='indent'>
</p><!-- l. 118 --><object id='x12-198012r10' data="svgs/eq-MBQC-euler-decomp-full.svg" alt="diagram of eq:MBQC-euler-decomp-full" class="svg-diagram"></object></td><td class='eq-no'>(9.10)</td></tr></table>
<!-- l. 121 --><p class='indent'>   This still gives us a Pauli error at the end, but this is fine since we now know
how to deal with this. In the definition of a stand-alone measurement fragment
Definition <a href='#x12-198006r4'>9.1.4<!-- tex4ht:ref: def:measurement-fragment-stand-alone  --></a> we only allowed the measurement angles to depend on previous
measurement outcomes, and not on Pauli errors being fed-forward into it. Now
that we know that we need this kind of adaptivity, we can give a definition of the
kind of fragment we need.
</p>
   <div class='newtheorem'>
<!-- l. 123 --><p class='noindent'><span class='head'>
<a id='x12-198013r5'></a>
<span class='cmbx-10x-x-109'>Definition 9.1.5.</span>  </span> A <span class='cmbx-10x-x-109'>measurement fragment </span>consists of </p>
                                                                     

                                                                     
     <ul class='itemize1'>
     <li class='itemize'>an open graph <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     (recall Definition <a href='#x12-198005r3'>9.1.3<!-- tex4ht:ref: def:open-graph  --></a>) with <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and where <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>m</mi></math>
     is the number of non-output vertices <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi><mo class='MathClass-rel' stretchy='false'>|</mo></mrow></math>,
     and <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-rel' stretchy='false'>|</mo><mi>I</mi><mo class='MathClass-rel' stretchy='false'>|</mo></mrow></math>
     is the number of input qubits and <!-- l. 126 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>o</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-rel' stretchy='false'>|</mo><mi>O</mi><mo class='MathClass-rel' stretchy='false'>|</mo></mrow></math>
     is the number of output qubits,
     </li>
     <li class='itemize'>a measurement order <!-- l. 127 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>m</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>
     where <!-- l. 127 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>f</mi></math>
     is bijective,
     </li>
     <li class='itemize'>A measurement-plane function <!-- l. 128 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>λ</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>→</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi mathvariant='italic'>XY</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi mathvariant='italic'>XZ</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
     that tells us the measurement plane of every non-output vertex,
     </li>
     <li class='itemize'>for every non-output vertex <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     a measurement-angle function <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub></mrow></msup> <mo class='MathClass-bin' stretchy='false'>×</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub></mrow></msup> <mo class='MathClass-bin' stretchy='false'>×</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>k</mi><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>}</mo></mrow></msup><mo class='MathClass-rel' stretchy='false'>→</mo> <mi>ℝ</mi></mrow></math>
     that determines the measurement angle <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mover accent='true'><mrow><mi>z</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>a</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     of <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     depending on all the fed-forward <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
     errors <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>z</mi></mrow><mo accent='true'>→</mo></mover></math>,
     <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
     errors <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover></math>
     and previous measurement outcomes <!-- l. 129 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>a</mi></mrow><mo accent='true'>→</mo></mover></math>,
     and
     </li>
     <li class='itemize'>Boolean functions <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>f</mi></mrow><mrow><mi>Z</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>f</mi></mrow><mrow><mi>X</mi></mrow></msub> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub></mrow></msup> <mo class='MathClass-bin' stretchy='false'>×</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub></mrow></msup> <mo class='MathClass-bin' stretchy='false'>×</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><mi>m</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>→</mo> <mi>𝔽</mi><msup><mrow><mn>2</mn></mrow><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>o</mi></mrow></msub></mrow></msup></mrow></math>
     that determine what the Pauli <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
     errors <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>f</mi></mrow><mrow><mi>Z</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mover accent='true'><mrow><mi>z</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>a</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
     errors <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>f</mi></mrow><mrow><mi>X</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mover accent='true'><mrow><mi>z</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-punc' stretchy='false'>,</mo><mover accent='true'><mrow><mi>a</mi></mrow><mo accent='true'>→</mo></mover><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     are  on  each  output  qubit  that  we  will  feed  forward,  based  on  the
     <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
     errors <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>z</mi></mrow><mo accent='true'>→</mo></mover></math>
                                                                     

                                                                     
     and <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
     errors <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>x</mi></mrow><mo accent='true'>→</mo></mover></math>
     that were fed-forward into the pattern and the measurement outcomes
     <!-- l. 130 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mover accent='true'><mrow><mi>a</mi></mrow><mo accent='true'>→</mo></mover></math>
     of the qubits in the pattern. </li></ul>
   </div>
<!-- l. 132 --><p class='indent'>    Note that we take it as part of the definition of a measurement fragment to
specify what the output errors are. By specifying what we consider ‘errors’ we are
at the same time specifying what our desired outcome is, and hence what
the linear map we are trying to implement is. We also need this error
information as it needs to be fed-forward into the fragments following
it.
</p>
   <div class='newtheorem'>
<!-- l. 134 --><p class='noindent'><span class='head'>
<a id='x12-198014r6'></a>
<span class='cmbx-10x-x-109'>Example 9.1.6.</span>  </span>Translating the diagram (<a href='#x12-198012r10'>9.10<!-- tex4ht:ref: eq:MBQC-euler-decomp-full  --></a>) into the language of Definition <a href='#x12-198013r5'>9.1.5<!-- tex4ht:ref: def:measurement-fragment  --></a>, we see
that <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> is a chain of five
vertices, let’s call them <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>b</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>c</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>d</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>o</mi></mrow></math>
to match with the variables in (<a href='#x12-198012r10'>9.10<!-- tex4ht:ref: eq:MBQC-euler-decomp-full  --></a>). Then
<!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>I</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>a</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> and
<!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>o</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>. We
have <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>m</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>4</mn></mrow></math>,
<!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>n</mi></mrow><mrow><mi>i</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>n</mi></mrow><mrow><mi>o</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>1</mn></mrow></math>. The measurement
order <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>f</mi></math> just goes down
the chain: <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>2</mn><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>b</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>3</mn><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>c</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>f</mi><mo class='MathClass-open' stretchy='false'>(</mo><mn>4</mn><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>d</mi></mrow></math> (although
actually qubit <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>d</mi></math>
can be measured whenever as nothing else in the fragment depends on this outcome). The
measurement-plane <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>λ</mi></math>
is <!-- l. 135 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> for
every measured qubit. The measurement-angle functions are then
                                                                     

                                                                     
</p><!-- tex4ht:inline --><!-- l. 141 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mtable class='align-star' columnalign='left' displaystyle='true'>
                      <mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>f</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>                            <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>x</mi></mrow></msup><mi>α</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mspace width='2em'></mspace></mtd>                        <mtd class='align-label' columnalign='right'></mtd>                      <mtd class='align-label'>
                      <mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>f</mi></mrow><mrow><mn>2</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>a</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>                          <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>a</mi><mo class='MathClass-bin' stretchy='false'>+</mo><mi>z</mi></mrow></msup><mi>β</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mspace width='2em'></mspace></mtd>                      <mtd class='align-label' columnalign='right'></mtd>                      <mtd class='align-label'>
                      <mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>f</mi></mrow><mrow><mn>3</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>b</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>                        <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>b</mi><mo class='MathClass-bin' stretchy='false'>+</mo><mi>x</mi></mrow></msup><mi>γ</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mspace width='2em'></mspace></mtd>                      <mtd class='align-label' columnalign='right'></mtd>                      <mtd class='align-label'>
                      <mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>f</mi></mrow><mrow><mn>4</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>b</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>c</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>                      <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>0</mn><mspace width='2em'></mspace></mtd>                              <mtd class='align-label' columnalign='right'></mtd>                      <mtd class='align-label'>
   <mspace width='2em'></mspace></mtd></mtr></mtable></math>
<!-- l. 142 --><p class='noindent'>where here <!-- l. 142 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>,
<!-- l. 142 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> and
<!-- l. 142 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>
are pre-determined phases corresponding to the unitary we
wish to implement. Finally, the Pauli error functions are
<!-- l. 142 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>f</mi></mrow><mrow><mi>Z</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>b</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>c</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>d</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>a</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>c</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>z</mi></mrow></math> and
<!-- l. 142 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>f</mi></mrow><mrow><mi>X</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>a</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>b</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>c</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>d</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>b</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>d</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>x</mi></mrow></math>.
</p>
   </div>
<!-- l. 143 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 144 --><p class='noindent'><span class='head'>
<a id='x12-198015r1'></a>
<span class='cmbx-10x-x-109'>Exercise 9.1.</span>  </span>Do  the  same  type  of  analysis  of  the  Pauli  errors  as  was
done  for (<a href='#x12-198011r9'>9.9<!-- tex4ht:ref: eq:MBQC-euler-decomp-errors  --></a>),  but  for  the  CNOT  measurement  fragment (<a href='#x12-198003r3'>9.3<!-- tex4ht:ref: eq:MBQC-CNOT  --></a>).  Do  the
measurement angles in this pattern have to depend on the incoming Pauli
errors? What are the resulting Pauli errors on the output? Translate all this
information into the form of a measurement fragment as in Definition <a href='#x12-198013r5'>9.1.5<!-- tex4ht:ref: def:measurement-fragment  --></a>.
</p>
   </div>
<!-- l. 146 --><p class='indent'>    Now that our definition of a measurement fragment can specify how
incoming Pauli errors should change the measurement angles, and how the
resulting errors should be fed-forward, we can actually compose these fragments
together. We will not formally define how to do so, as this is quite tedious, but
one can visualise it as just connecting the associated ZX-diagrams together and
pushing the internal Pauli errors to the end.
</p>
   <div class='newtheorem'>
<!-- l. 149 --><p class='noindent'><span class='head'>
<a id='x12-198016r7'></a>
                                                                     

                                                                     
<span class='cmbx-10x-x-109'>Remark 9.1.7.</span>  </span>The example fragments we have considered so far, (<a href='#x12-198012r10'>9.10<!-- tex4ht:ref: eq:MBQC-euler-decomp-full  --></a>)
and (<a href='#x12-198003r3'>9.3<!-- tex4ht:ref: eq:MBQC-CNOT  --></a>), implement a linear map that is independent of the measurement
outcomes  in  the  pattern  (up  to  a  known  Pauli  error  that  is  being
fed-forward). We call such a fragment <span class='cmbx-10x-x-109'>deterministic</span>, because if we zoom
out  and  consider  the  fragment  as  a  single  unit,  it  just  implements  a
fixed unitary. Our definition of measurement fragment doesn’t require the
fragments to be deterministic, but in practice we will restrict ourselves to
deterministic ones. We will have a lot more to say about determinism in the
one-way model in Section <a href='#determinism-and-gflow'>9.2<!-- tex4ht:ref: sec:gflow  --></a>.
</p>
   </div>
<!-- l. 151 --><p class='indent'>
</p>
   <h4 class='subsectionHead' id='universal-resources'><span class='titlemark'>9.1.1   </span> <a id='x12-1990009.1.1'></a>Universal resources</h4>
<!-- l. 153 --><p class='noindent'>We have described a measurement fragment to implement a CNOT gate and one
that can implement an arbitrary single-qubit unitary. As CNOT gates and
single-qubit unitaries form a universal gate set, we see then that we can construct
a measurement fragment for any unitary we would want to implement. Hurray!
Note however that the resulting graph state we need will depend on the specific
unitary we want to implement. There is then still some ‘information’ about the
computation that is present in the starting resource state. This then raises
an interesting question: can we implement arbitrary unitaries using a
measurement fragment that has a <span class='cmti-10x-x-109'>fixed </span>graph state? We need to be a
bit careful about how to formally state this question, because there are
unitaries that are really hard to implement, and so we would expect them to
require a large resource state to prepare (put simply: if we only have
<!-- l. 156 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>k</mi></math>
measurements, we could represent at most a
<!-- l. 156 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>k</mi></math>-dimensional
subset of all unitaries, but the space of all unitaries scales exponentially with the
number of qubits). We hence shouldn’t consider a fixed resource, but rather
a family of resource state that is allowed to scale with the cost of the
unitary. A more formal version of the question would hence be something
like:
     </p><blockquote class='quote'>
     <!-- l. 159 --><p class='noindent'>Does there exist a family of open graphs <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>G</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
     where <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>G</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
     consists of poly<!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>k</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
                                                                     

                                                                     
     vertices, such that for any <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>n</mi></math>-qubit
     unitary <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>U</mi></math>
     with <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>m</mi></math>
     gates, we can find a measurement pattern implementing <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>U</mi></math>
     which uses the open graph <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>G</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
     where <!-- l. 159 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>k</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mstyle class='text'><mtext>poly</mtext></mstyle><mo class='MathClass-open' stretchy='false'>(</mo><mi>n</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>m</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>?
     </p></blockquote>
<!-- l. 161 --><p class='noindent'>Maybe perhaps surprisingly, the answer to this is yes! There exist <span class='cmbx-10x-x-109'>universal
resource states </span>which allow you to implement arbitrary quantum computations
up to some size. A particularly nice example of a family of universal resource
states are the 2D <span class='cmbx-10x-x-109'>cluster states</span>: </p><table class='equation-star'><tr><td>
<!-- l. 164 --><object data="svgs/cluster-state.svg" alt="diagram of cluster-state" class="svg-diagram"></object></td></tr></table>
<!-- l. 167 --><p class='indent'>   I.e. the graph is just a big square grid. The trick to seeing
why this is universal, is that we can use measurements in the
<!-- l. 168 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> plane
to strategically cut holes into the grid: </p><table class='equation-star'><tr><td>
<!-- l. 169 --><object data="svgs/cluster-outcome.svg" alt="diagram of cluster-outcome" class="svg-diagram"></object></td></tr></table>
<!-- l. 172 --><p class='indent'>   This allows us to shape the grid into whatever pattern we need it to be to
perform the computation we want.
                                                                     

                                                                     
</p>
   <h3 class='sectionHead' id='determinism-and-gflow'><span class='titlemark'>9.2   </span> <a id='x12-2000009.2'></a>Determinism and gflow</h3>
<!-- l. 174 --><p class='noindent'>We have now seen that we can do universal computation using the one-way
model. An important part in getting there was knowing how to deal with the
wrong measurement outcomes by finding ways to feed them forward.
So far we have done this essentially by trial and error: we construct a
simple fragment, observe that we get the wrong phases sometimes, and
then change them to correct for this. In this section we will find a more
systematic way to think about correcting errors and when we can see
that a measurement fragment can be made deterministic. But first: let’s
look at the connection between measurement fragments and graph-like
diagrams.
</p>
   <h4 class='subsectionHead' id='graphlike-zxdiagrams-as-measurement-fragments'><span class='titlemark'>9.2.1   </span> <a id='x12-2010009.2.1'></a>Graph-like ZX-diagrams as measurement fragments</h4>
<!-- l. 177 --><p class='noindent'>It turns out that if we take the ZX representation of a measurement pattern,
ignore the adaptivity needed to correct for ‘wrong’ measurement outcomes, and
fuse some spiders, that we get a graph-like diagram. For instance, doing this for
the fragment (<a href='#x12-198009r7'>9.7<!-- tex4ht:ref: eq:MBQC-euler-decomp  --></a>), we get: </p><table class='equation'><tr><td>
<!-- l. 178 --><p class='indent'>
</p><!-- l. 178 --><object id='x12-201001r11' data="svgs/MBQC-euler-graph-like.svg" alt="diagram of MBQC-euler-graph-like" class="svg-diagram"></object></td><td class='eq-no'>(9.11)</td></tr></table>
<!-- l. 181 --><p class='indent'>   This graph-like diagram is then a representation of the ‘post-selected’
measurement fragment, where all the measurement outcomes where what we
wanted them to be. It turns out the converse is also true: any graph-like diagram
can be seen as a post-selected measurement fragment, just by unfusing some
phases and introducing some identities: </p><table class='equation'><tr><td>
<!-- l. 183 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 183 --><object id='x12-201002r12' data="svgs/eq-MBQC-from-graph-like.svg" alt="diagram of eq:MBQC-from-graph-like" class="svg-diagram"></object></td><td class='eq-no'>(9.12)</td></tr></table>
<!-- l. 186 --><p class='indent'>   If we were to actually try to run this as a measurement fragment, we would of
course usually get some of the ‘wrong’ measurement outcomes. So this fragment
is only useful if we know how to deal with all measurement outcomes, so that we
can make the pattern deterministic. Can we do this somehow? This is not just a
niche question we are asking because we like diagrams. We can write any
quantum circuit as a graph-like diagram, so if we could do this then this
would give us an easy way to translate a circuit into a deterministic
measurement fragment. It turns out that it is <span class='cmti-10x-x-109'>in general </span>not possible to turn
graph-like diagrams into deterministic measurement fragments. This
is for the simple reason that we can write down ZX-diagrams that are
not isometries. For instance, consider the following graph-like diagram:
</p><table class='equation'><tr><td>
<!-- l. 189 --><p class='indent'>
</p><!-- l. 189 --><object id='x12-201003r13' data="svgs/MBQC-X-spider.svg" alt="diagram of MBQC-X-spider" class="svg-diagram"></object></td><td class='eq-no'>(9.13)</td></tr></table>
<!-- l. 192 --><p class='indent'>   By doing some colour changing and identity removals, we see that this is just
a 2-input, 2-output Z-spider, which is a projection and is not unitary. If we could
deterministically perform such a projection, we could do non-unitary
quantum computation! Or even more simply, consider the graph-like
diagram <!-- l. 193 --><img src="svgs/bra-plus.svg" alt="diagram of bra-plus" class="inline-diagram" />.
If we could implement this ZX-diagram deterministically, we would be doing
post-selection. So it is not always possible to turn a graph-like diagram into a
deterministic measurement fragment. But can we at least somehow determine
<span class='cmti-10x-x-109'>when </span>we can do so? As it turns out: <span class='cmti-10x-x-109'>yes</span>. For a particularly strong type of
deterministic measurement pattern there is a one-to-one correspondence to
graph-like ZX-diagrams with a property called <span class='cmti-10x-x-109'>gflow</span>.
                                                                     

                                                                     
</p>
   <h4 class='subsectionHead' id='the-measurement-correction-game'><span class='titlemark'>9.2.2   </span> <a id='x12-2020009.2.2'></a>The measurement correction game</h4>
<!-- l. 199 --><p class='noindent'>To understand when we can implement a correction strategy for measurement
errors on a graph-like ZX-diagram, let’s consider a small toy diagram to see what
we can do: </p><table class='equation'><tr><td>
<!-- l. 200 --><p class='indent'>
</p><!-- l. 200 --><object id='x12-202001r14' data="svgs/mbqc-correct-1.svg" alt="diagram of mbqc-correct-1" class="svg-diagram"></object></td><td class='eq-no'>(9.14)</td></tr></table>
<!-- l. 203 --><p class='indent'>   This is of course not a realistic diagram that we would expect
to encounter when doing MBQC, but it will serve to demonstrate
the principle of correction. Here our goal is to get rid of the
<!-- l. 204 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>π</mi></math>
phase. We can do this by changing the spider with the
<!-- l. 204 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>
phase: </p><table class='equation'><tr><td>
<!-- l. 205 --><p class='indent'>
</p><!-- l. 205 --><object id='x12-202002r15' data="svgs/mbqc-correct-2.svg" alt="diagram of mbqc-correct-2" class="svg-diagram"></object></td><td class='eq-no'>(9.15)</td></tr></table>
<!-- l. 208 --><p class='indent'>   Hence, as long as we measure the qubit with phase
<!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> after the
one with <!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>,
an error at <!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>
can be corrected by changing the measurement angle of the
<!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> qubit to be
<!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>−</mo> <mi>β</mi></mrow></math>. Here we could have also
                                                                     

                                                                     
chosen to change <!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math> in order
to correct the error at <!-- l. 208 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>.
Finding the right correction was easy here, because the
<!-- l. 209 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> spider was only
connected to <!-- l. 209 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>
and nothing else. Let’s consider a slightly more complicated diagram:
</p><table class='equation'><tr><td>
<!-- l. 210 --><p class='indent'>
</p><!-- l. 210 --><object id='x12-202003r16' data="svgs/mbqc-correct-3.svg" alt="diagram of mbqc-correct-3" class="svg-diagram"></object></td><td class='eq-no'>(9.16)</td></tr></table>
<!-- l. 213 --><p class='indent'>   In this case, changing the phase of
<!-- l. 213 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math> does still remove
the error at <!-- l. 213 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>,
but it also changes the phases at the other spiders: </p><table class='equation'><tr><td>
<!-- l. 214 --><p class='indent'>
</p><!-- l. 214 --><object id='x12-202004r17' data="svgs/mbqc-correct-4.svg" alt="diagram of mbqc-correct-4" class="svg-diagram"></object></td><td class='eq-no'>(9.17)</td></tr></table>
<!-- l. 217 --><p class='indent'>   Now if we can run the pattern such that the qubits with the
<!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math> and
<!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>δ</mi></math> phase can be
measured after the <!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>
qubit, then this is fine, since we can still decide to measure
them with a different phase to correct for the additional
<!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>π</mi></math> phase
they have. But if we suppose that we have already measured the qubit with the
<!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math> phase, then
                                                                     

                                                                     
this would not be possible. In that case however, we see that we can apply the same
‘<!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>π</mi></math>-pushing’ trick
with <!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>δ</mi></math> to remove the
additional phase <!-- l. 217 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>
got: </p><table class='equation'><tr><td>
<!-- l. 218 --><p class='indent'>
</p><!-- l. 218 --><object id='x12-202005r18' data="svgs/mbqc-correct-5.svg" alt="diagram of mbqc-correct-5" class="svg-diagram"></object></td><td class='eq-no'>(9.18)</td></tr></table>
<!-- l. 221 --><p class='indent'>   This gave us an additional <!-- l. 221 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>π</mi></math>
phase at <!-- l. 221 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>
as well, but that is fine as we are already considering changing the phase at
<!-- l. 221 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>. Hence, to correct the
error at <!-- l. 222 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>, we can decide
to change the phase at <!-- l. 222 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>
and <!-- l. 222 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>δ</mi></math>, and this
leaves the phase at <!-- l. 222 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>γ</mi></math>
invariant. Let’s try to formalise what is happening here. We see that the trick of pushing
out an <!-- l. 223 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
phase affects the phases on all the neighbours of this vertex, and that
if we affect the phase of a vertex twice, that this then cancels out the
effect. The qubits will be measured in some order, so we must make
sure that whatever qubits we affect the phase of must be measured <span class='cmti-10x-x-109'>after</span>
the qubit we are trying to correct an error at. We can capture this
behaviour in a little game: you are given an open graph with vertices
<!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>V</mi> </mrow></math>
where every vertex is labelled with either the presence or absence
of an error (a 1 or 0). You are allowed to do the operation
<!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math> for a
vertex <!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> </mrow></math>,
which flips the value of the error on all the neighbours of
<!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> (but not at
<!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> itself). The goal is
to move all the <!-- l. 224 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>1</mn></math>’s
(the errors) to the output vertices. For example: </p><table class='equation'><tr><td>
<!-- l. 225 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 225 --><object id='x12-202006r19' data="svgs/eq-has-gflow.svg" alt="diagram of eq:has-gflow" class="svg-diagram"></object></td><td class='eq-no'>(9.19)</td></tr></table>
<!-- l. 228 --><p class='indent'>   For some open graphs and configurations of errors, this task might be
impossible. For example, there is no solution for the following graph:
</p>
<div class='center'>
<!-- l. 230 --><p class='noindent'>
</p><!-- l. 231 --><p class='noindent'><object data="svgs/no-gflow.svg" alt="diagram of no-gflow" class="svg-diagram"></object> </p></div>
<!-- l. 234 --><p class='indent'>   Which makes sense, because if we were to try to build a one-way model
computation on this open graph, it would map two qubits to one qubit, so there
is no way we could do such a computation deterministically. The question then is,
for which graphs can you always win this game, regardless of where the errors
occur? We can see that a winning strategy is the following: first, find an ordering
<!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math> of vertices which
give a direction of ‘time’ going from inputs to outputs, and find for each non-output vertex
<!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>, a <span class='cmbx-10x-x-109'>correction set</span>
<!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊂</mo> <mi>V</mi> </mrow></math> of vertices in the
future of <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> (with respect
to the ordering <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>)
such that applying <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math>
for all <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> flips the
bit on <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>, and
potentially also flips some other bits, as long as those bits all belong to vertices that are in the
future of <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> (again,
with respect to <!-- l. 236 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>).
Now, for any instance of the game we can apply the following strategy: find a minimal
vertex <!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
(w.r.t. <!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>) which has
an error. Then apply <!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math>
to all <!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. This removes
the error on <!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
and only introduces new errors on vertices in the future of
<!-- l. 237 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
Then find a new minimal vertex with an error and repeat until all the errors are
                                                                     

                                                                     
moved all the way to the end at the outputs. This game describes the property of
<!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> in terms
of the <!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></math>
operation, but we can actually make the description a bit simpler and
more natural to graph-theory language. Namely, we see that a vertex
<!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> get its bit flipped
by applying <!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math>
for all <!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
precisely when it is connected to an <span class='cmti-10x-x-109'>odd </span>amount of vertices in
<!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
This is because if it is connected an even amount of times to vertices in
<!-- l. 238 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, then
it gets its bit flipped twice, so that nothing happens. Let’s capture this in a
definition.
</p>
   <div class='newtheorem'>
<!-- l. 239 --><p class='noindent'><span class='head'>
<a id='x12-202007r1'></a>
<span class='cmbx-10x-x-109'>Definition 9.2.1.</span>  </span> Let <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an (open) graph, and <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> </mrow></math>
some subset of its vertices. We define the <span class='cmbx-10x-x-109'>odd neighbourhood </span>of <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>A</mi></math>
in <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
as <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mspace class='thinspace' width='0.17em'></mspace><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-rel' stretchy='false'>|</mo><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-rel' stretchy='false'>|</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>A</mi><mo class='MathClass-rel' stretchy='false'>|</mo><mi> </mi><mstyle class='text'><mtext>mod </mtext></mstyle><mn>2</mn> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>1</mn><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
Here <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
denotes the regular neighbourhood of a vertex <!-- l. 240 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>,
i.e. its set of neighbours.
</p>
   </div>
<!-- l. 241 --><p class='indent'>    Using odd neighbourhoods we can rephrase the condition we needed on the correction
sets <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>: we need
<!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> (applying <span class='cmbx-10x-x-109'>flip</span>
for all vertices in <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
results in a flip at <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>)
and if <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
then <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math> (if
<!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> gets flipped by
the corrections for <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
then <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> needs to be
in the future of <!-- l. 242 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>).
This is in fact exactly what we require, and allows us to give the definition of the
central concept of this chapter: gflow.
                                                                     

                                                                     
</p>
   <div class='newtheorem'>
<!-- l. 244 --><p class='noindent'><span class='head'>
<a id='x12-202008r2'></a>
<span class='cmbx-10x-x-109'>Definition 9.2.2.</span>  </span> Let <!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> be
an open graph. A <span class='cmbx-10x-x-109'>gflow </span><!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
on <!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> consists of a partial
order <!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math> on the vertices
of <!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>, and a <span class='cmbx-10x-x-109'>correction
set function </span><!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>→</mo> <mi>℘</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>I</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
that associates to every non-output vertex
<!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math> a subset of
non-input vertices <!-- l. 245 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>I</mi></mrow></math>,
such that:
     </p><dl class='enumerate'><dt class='enumerate'>
  1.. </dt><dd class='enumerate'>
     <!-- l. 247 --><p class='noindent'>The inputs are minimal in the partial order <!-- l. 247 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>
     (meaning that if <!-- l. 247 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>i</mi></mrow></math>
     for some input <!-- l. 247 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>i</mi></math>,
     then <!-- l. 247 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>i</mi></mrow></math>)
     and conversely the outputs are maximal;
     </p></dd><dt class='enumerate'>
  2.. </dt><dd class='enumerate'>
     <!-- l. 248 --><p class='noindent'>For every <!-- l. 248 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>,
     we have that <!-- l. 248 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>
     and <!-- l. 248 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>v</mi></mrow></math>
     for every <!-- l. 248 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     i.e. all the elements in the correction set are in the future of the vertex
     being corrected;
     </p></dd><dt class='enumerate'>
  3.. </dt><dd class='enumerate'>
     <!-- l. 249 --><p class='noindent'>For every <!-- l. 249 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>
     we have <!-- l. 249 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     i.e. applying a correction at all the vertices in the correction set of
     <!-- l. 249 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
     results in a correction at <!-- l. 249 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>;
     </p></dd><dt class='enumerate'>
  4.. </dt><dd class='enumerate'>
                                                                     

                                                                     
     <!-- l. 250 --><p class='noindent'>For every <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>,
     if <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     then <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>.
     That is, if <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
     is a vertex that ends up with a correction from the correction set of
     <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
     then <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
     is in the future of <!-- l. 250 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
     </p></dd></dl>
<!-- l. 252 --><p class='noindent'>We say an open graph <span class='cmbx-10x-x-109'>has gflow </span>when at least one gflow can be defined on
it.
</p>
   </div>
<!-- l. 253 --><p class='indent'>    With what we discussed above we see that if an open graph has gflow, that
this gives us a winning strategy for the error correction game.
</p>
   <div class='newtheorem'>
<!-- l. 255 --><p class='noindent'><span class='head'>
<a id='x12-202013r3'></a>
<span class='cmbx-10x-x-109'>Remark 9.2.3.</span>  </span>We  have  here  only  shown  that  the  existence  of  gflow
gives us <span class='cmti-10x-x-109'>a  </span>winning strategy for the error correction game, but not that
there  might  also  be  other  strategies.  It  turns  out  that  the  open  graph
of a deterministic measurement pattern has gflow if and only if it has a
particularly well-behaved kind of determinism. See the References of this
chapter for more.
</p>
   </div>
<!-- l. 257 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 258 --><p class='noindent'><span class='head'>
<a id='x12-202014r2'></a>
<span class='cmbx-10x-x-109'>Exercise 9.2.</span>  </span> In the definition above we defined <!-- l. 259 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
by checking all vertices in <!-- l. 259 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>.
However, there is also an ‘intrinsic’ definition, given by <!-- l. 259 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle></mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi></mrow></msub><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
Here <!-- l. 259 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle></math>
denotes the <span class='cmbx-10x-x-109'>symmetric difference </span>operation of sets, where for example
<!-- l. 259 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mn>2</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mn>3</mn><mo class='MathClass-close' stretchy='false'>}</mo><mspace class='thinspace' width='0.17em'></mspace><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> <mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-open' stretchy='false'>{</mo><mn>2</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mn>3</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mn>4</mn><mo class='MathClass-close' stretchy='false'>}</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mn>1</mn><mo class='MathClass-punc' stretchy='false'>,</mo><mn>4</mn><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
Prove that this definition is equivalent to the one in Definition <a href='#x12-202007r1'>9.2.1<!-- tex4ht:ref: def:odd-neighbourhood  --></a>.
                                                                     

                                                                     
</p>
   </div>
<!-- l. 260 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 264 --><p class='noindent'><span class='head'>
<a id='x12-202015r3'></a>
<span class='cmbx-10x-x-109'>Exercise 9.3.</span>  </span> Show that for any two sets of vertices <!-- l. 265 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>B</mi> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> </mrow></math>
of <!-- l. 265 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
that <!-- l. 265 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>g</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
</p>
   </div>
<!-- l. 266 --><p class='indent'>
</p>
   <h4 class='subsectionHead' id='diagrams-with-gflow-are-deterministic-measurement-patterns'><span class='titlemark'>9.2.3   </span> <a id='x12-2030009.2.3'></a>Diagrams with gflow are deterministic measurement patterns</h4>
<!-- l. 268 --><p class='noindent'>We can use gflow to describe how to transform a graph-like ZX-diagram into a
deterministic measurement pattern. Let’s assume we have a graph-like ZX-diagram
<!-- l. 269 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math> such that its
corresponding open graph <!-- l. 269 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
has a gflow <!-- l. 269 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
We see from Definition <a href='#x12-198013r5'>9.1.5<!-- tex4ht:ref: def:measurement-fragment  --></a> that to describe a measurement fragment, we need
to supply a number of data to fully define it. The first parts are easy enough to
specify: </p>
     <ul class='itemize1'>
     <li class='itemize'>We need to specify an open graph. For this we will just take the open
     graph we already have: <!-- l. 272 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>.
     </li>
     <li class='itemize'>A measurement order. For this we will take any order that is compatible
     with the partial order <!-- l. 273 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>.
     That is: we take a minimal vertex <!-- l. 273 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
     in the order (which does not have any vertices earlier in the order) and
     assign it to be measured first. We then find a new minimal vertex in the
     set <!-- l. 273 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
     and assign it to be measured second. We repeat this until all vertices in
     <!-- l. 273 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>
     have been assigned a measurement order.
                                                                     

                                                                     
     </li>
     <li class='itemize'>A measurement plane function. Here we just assign every measured
     vertex to be measured in the <!-- l. 274 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
     plane (we will discuss this choice in more detail in Section <a href='#measurements-in-three-planes'>9.5<!-- tex4ht:ref: sec:3-plane  --></a>). </li></ul>
<!-- l. 276 --><p class='noindent'>But now comes the hard part: we need to describe the measurement angles, and
more importantly, how they are affected by the measurement outcomes. In
practice, what this means is that we have a standard measurement angle
<!-- l. 277 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>
that comes from the angle we had in the ZX-diagram
<!-- l. 277 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>. But then
this <!-- l. 277 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math> gains
either a <!-- l. 277 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi>π</mi></mrow></math>
phase or a negation depending on whether it appears in any correction sets, or odd
neighbourhoods of correction sets of measured qubits that require a correction. Let’s write
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow></msub></math> for the phase that
the spider <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> has in
the original diagram <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
and <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub></math>
for the measurement outcome when the spider
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
is measured. Hence, if all the measurement outcomes
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub></math> are
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>0</mn></math>,
then the measurement angles we want to measure every qubit in is just
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow></msub></math>. We will change
these <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow></msub></math> to functions
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msubsup><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow><mrow><mi>′</mi></mrow></msubsup></math> that may depend
on the <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>a</mi></mrow><mrow><mi>v</mi></mrow></msub></math> of qubits
<!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> that have been
measured before <!-- l. 278 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>. Let’s
first consider an input <!-- l. 279 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>I</mi></mrow></math>,
which has to deal with a fed-forward Pauli
<!-- l. 279 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math> error,
but no other corrections from inside the pattern: </p><table class='equation-star'><tr><td>
                                                                     

                                                                     
<!-- l. 280 --><object data="svgs/gflow-zx-input-correct.svg" alt="diagram of gflow-zx-input-correct" class="svg-diagram"></object></td></tr></table>
<!-- l. 283 --><p class='indent'>   We see that we should change our initial choice of measurement
<!-- l. 283 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow></msub></math> to a
function <!-- l. 283 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msubsup><mrow><mi>α</mi></mrow><mrow><mi>u</mi></mrow><mrow><mi>′</mi></mrow></msubsup><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><mi>x</mi></mrow></msup><mi>α</mi> <mo class='MathClass-bin' stretchy='false'>+</mo> <mi mathvariant='italic'>zπ</mi></mrow></math>
in order to account for the error being fed-forward into the spider. This
doesn’t fully capture the incoming Pauli error though, as we see that the
<!-- l. 283 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
error has to be further fed-forward into the neighbours of
<!-- l. 283 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
All this does is change the measurement angle of that neighbour by
<!-- l. 283 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>xπ</mi></mrow></math>,
so we will ignore this detail. While this deals with the incoming
Pauli error, it does not deal with the measurement error
<!-- l. 284 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>a</mi></mrow><mrow><mi>v</mi></mrow></msub></math> that
it produces itself. To correct this we need the gflow condition. This procedure is
the same regardless of whether the spider is an input or not, so let’s just take
<!-- l. 284 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math> to
be any measured qubit now. We then have a set of correction qubits
<!-- l. 284 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><msub><mrow><mi>v</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>v</mi></mrow><mrow><mi>k</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> and a set of
‘corrected’ qubits <!-- l. 284 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>w</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>w</mi></mrow><mrow><mi>l</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
We then see that by changing the measurement angles at the correction
and corrected qubits, we can remove the measurement error at
<!-- l. 284 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>:
</p><table class='equation-star'><tr><td>
<!-- l. 285 --><object data="svgs/gflow-zx-general-correct.svg" alt="diagram of gflow-zx-general-correct" class="svg-diagram"></object></td></tr></table>
<!-- l. 288 --><p class='indent'>   Here for simplicity we have assumed that each
<!-- l. 288 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>v</mi></mrow><mrow><mi>i</mi></mrow></msub></math> and
                                                                     

                                                                     
<!-- l. 288 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>w</mi></mrow><mrow><mi>j</mi></mrow></msub></math>
is not an output, as we will deal with that case later. We have given
every qubit in this diagram an additional output wire to denote that it
can also be connected to some other spiders. The last application of
<!-- l. 289 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mstyle class='label' xlink:href='main_htmlch3.html#x6-580020' xlink:type='simple' xmlns:xlink='http://www.w3.org/1999/xlink'><mstyle mathvariant='bold'><mi>π</mi></mstyle></mstyle><!-- endlabel --><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
does not affect these additional qubits, precisely because they are
not in the odd neighbourhood of the correction set. So for every
<!-- l. 290 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> we set
<!-- l. 290 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msubsup><mrow><mi>α</mi></mrow><mrow><mi>v</mi></mrow><mrow><mi>′</mi></mrow></msubsup><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub></mrow></msup><msub><mrow><mi>α</mi></mrow><mrow><mi>v</mi></mrow></msub></mrow></math> and for
every <!-- l. 290 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
with <!-- l. 290 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>u</mi></mrow></math> we
set <!-- l. 290 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msubsup><mrow><mi>α</mi></mrow><mrow><mi>w</mi></mrow><mrow><mi>′</mi></mrow></msubsup><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>α</mi></mrow><mrow><mi>w</mi></mrow></msub> <mo class='MathClass-bin' stretchy='false'>+</mo> <msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mi>π</mi></mrow></math>.
In general, a spider could of course be part of multiple correction sets and
odd neighbourhoods of correction sets. It will be useful to give these a
name:
</p><!-- tex4ht:inline --><!-- l. 295 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mtable class='align-star' columnalign='left' displaystyle='true'>
               <mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>S</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>               <mtd class='align-even'> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-rel' stretchy='false'>|</mo><mspace class='thinspace' width='0.17em'></mspace><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>}</mo><mspace width='2em'></mspace></mtd>                           <mtd class='align-label' columnalign='right'></mtd>               <mtd class='align-label'>
               <mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mi>S</mi></mrow><mrow><mn>2</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mtd>               <mtd class='align-even'> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-rel' stretchy='false'>|</mo><mspace class='thinspace' width='0.17em'></mspace><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>}</mo><mspace width='2em'></mspace></mtd>               <mtd class='align-label' columnalign='right'></mtd>               <mtd class='align-label'>
   <mspace width='2em'></mspace></mtd></mtr></mtable></math>
<!-- l. 296 --><p class='noindent'>Then the actual measurement angle, as a function of the previous measurement
outcomes, is
<!-- tex4ht:inline --></p><!-- l. 297 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
         <msubsup><mrow><mi>α</mi></mrow><mrow><mi>v</mi></mrow><mrow><mi>′</mi></mrow></msubsup><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>a</mi></mrow><mrow>
<mi>u</mi></mrow></msub><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-rel' stretchy='false'>|</mo><mspace class='thinspace' width='0.17em'></mspace><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msup><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mn>1</mn><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mrow><munder class='msub'><mrow><mo>∑</mo>
  </mrow><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mi>S</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub>
                </mrow></msup><msub><mrow><mi>α</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-bin' stretchy='false'>+</mo> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder class='msub'><mrow><mo>∑</mo>
  </mrow><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mi>S</mi></mrow><mrow><mn>2</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub></mrow><mo fence='true' form='postfix'>)</mo></mrow> <mi>π</mi><mo class='MathClass-punc' stretchy='false'>.</mo>
</mrow></math>
                                                                     

                                                                     
<!-- l. 297 --><p class='nopar'> We are now almost done! The above tells us how to change
measurement angles to correct errors when the correction sets
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and corrected
sets <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
only contain non-outputs. When instead an output qubit
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>o</mi></math>
is in such a set, then we don’t change the measurement angle of
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>o</mi></math> (which we
can’t do since <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>o</mi></math>
is not measured), but we change the Pauli error that is being fed-forward. If
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>o</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, then we
get a Pauli <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
error of <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mi>π</mi></mrow></math>, and
if <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>o</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, then we
get a Pauli <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
error <!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mi>π</mi></mrow></math>.
In general then, the output Pauli that gets forwarded at output
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>o</mi></math> is
<!-- l. 298 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>z</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>x</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi class='MathClass-op'>∑</mi><mo> ⁡<!-- FUNCTION APPLICATION --></mo>
  <!-- nolimits --></mrow><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mi>S</mi></mrow><mrow><mn>2</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>o</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></msub><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mo>∑</mo>
  <!-- nolimits --></mrow><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mi>S</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></msub><msub><mrow><mi>a</mi></mrow><mrow><mi>u</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. We
have now specified what all the measurement angles of the qubits should be,
based on the fed-forward errors and the internal measurement outcomes, and we
have specified what the outgoing fed-forward errors will be based on the
measurement outcomes. This then indeed gives us a measurement pattern. By
how we constructed the pattern, we see that it implements the ZX-diagram we
started out with regardless of the internal measurement outcomes (up to the
fed-forward Pauli error at the end). We have then proved the following
result.
</p>
   <div class='newtheorem'>
<!-- l. 300 --><p class='noindent'><span class='head'>
<a id='x12-203001r4'></a>
<span class='cmbx-10x-x-109'>Theorem 9.2.4.</span>  </span> Let <!-- l. 301 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
be a graph-like diagram, and <!-- l. 301 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
its corresponding open graph consisting of a vertex for every spider and edge
for every Hadamard edge, and suppose that <!-- l. 301 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
has gflow. Then we can efficiently construct a deterministic measurement
fragment from <!-- l. 301 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
and the gflow which has the same underlying open graph and implements the
same linear map as <!-- l. 301 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>.
</p>
   </div>
                                                                     

                                                                     
<!-- l. 302 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 303 --><p class='noindent'><span class='head'>
<a id='x12-203002r5'></a>
<span class='cmbx-10x-x-109'>Remark 9.2.5.</span>  </span>The trick we applied here, introducing Pauli <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>’s
to cancel a Pauli <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
at a different location, might have seemed a bit familiar. This is because
it is actually based on the <span class='cmti-10x-x-109'>stabilisers  </span>of the underlying graph state (see
Example <a href='main_htmlch6.html#x9-140004r8'>6.3.8<!-- tex4ht:ref: ex:graph-state-stabiliser  --></a>). Applying the <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle class='text'><mtext class='textbf' mathvariant='bold'>flip</mtext></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math>
operation is like introducing the graph-state stabiliser <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mstyle mathvariant='script'><mi>S</mi></mstyle></mrow><mrow><mi>v</mi></mrow></msub></math>
consisting of an <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
at <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
and a <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
at all its neighbours. The correction set <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
then says that to correct the error at <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
we need to introduce the stabiliser <!-- l. 304 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi class='MathClass-op'>∏</mi><mo> ⁡<!-- FUNCTION APPLICATION --></mo>
  <!-- nolimits --></mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></msub><msub><mrow><mstyle mathvariant='script'><mi>S</mi></mstyle></mrow><mrow><mi>v</mi></mrow></msub></mrow></math>.
</p>
   </div>
<!-- l. 305 --><p class='indent'>
</p>
   <h4 class='subsectionHead' id='from-circuits-to-measurement-patterns'><span class='titlemark'>9.2.4   </span> <a id='x12-2040009.2.4'></a>From circuits to measurement patterns</h4>
<!-- l. 307 --><p class='noindent'>We started out this section with the goal of understanding how we can
systematically create measurement fragments that are deterministic. We have
seen that we have one powerful tool for ensuring determinism: the existence of a
gflow. What we have however not yet done is finding a good <span class='cmti-10x-x-109'>source </span>of
measurement fragments that have gflow. As it turns out, if we take a
unitary circuit consisting of Clifford and phase gates, and then turn it
into a graph-like diagram by fusing all spiders and colour changing to
Z-spiders as described in Proposition <a href='main_htmlch5.html#x8-109006r8'>5.1.8<!-- tex4ht:ref: prop:to-graph-like  --></a>, the resulting diagram has
gflow.
</p>
   <div class='newtheorem'>
<!-- l. 309 --><p class='noindent'><span class='head'>
<a id='x12-204001r6'></a>
<span class='cmbx-10x-x-109'>Proposition 9.2.6.</span>  </span>                                                          Let
<!-- l. 310 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
                                                                     

                                                                     
be       the       diagram       of       some       quantum       circuit,       and
<!-- l. 310 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
the             graph-like             diagram             produced             from
<!-- l. 310 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
using                               Proposition <a href='main_htmlch5.html#x8-109006r8'>5.1.8<!-- tex4ht:ref: prop:to-graph-like  --></a>.                               Then
<!-- l. 310 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
has a gflow.
</p>
   </div>
<!-- l. 311 --><p class='indent'>
</p>
   <div class='proof'>
<!-- l. 313 --><p class='indent'>   <span class='head'>
<span class='cmti-10x-x-109'>Proof.</span> </span>The idea will be to set <!-- l. 313 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
where <!-- l. 313 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
is the spider directly to the right of <!-- l. 313 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
on the same qubit line, and for the partial order to encode ‘is that spider to
the left of me?’ For every spider <!-- l. 314 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
of the circuit <!-- l. 314 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
we associate a number <!-- l. 314 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub></math>
specifying on which ‘qubit-line’ it appears. We also associate a ‘column-number’
<!-- l. 315 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>c</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>≥</mo> <mn>0</mn></mrow></math>
specifying how ‘deep’ in the circuit it appears. Hence, each spider has ‘xy
coordinates’ <!-- l. 315 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>c</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>:
</p>
<div class='center'>
<!-- l. 317 --><p class='noindent'>
</p><!-- l. 318 --><p class='noindent'><object data="svgs/circuit-spider-coordinates-1.svg" alt="diagram of circuit-spider-coordinates-1" class="svg-diagram"></object> </p></div>
<!-- l. 321 --><p class='indent'>   Suppose that <!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
and <!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> are
connected in <!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>,
<!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∼</mo> <mi>w</mi></mrow></math>. If they are on the
same qubit, so <!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>q</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>,
then necessarily <!-- l. 321 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>r</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-rel' stretchy='false'>≠</mo><msub><mrow><mi>r</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>,
since they can’t share the same space. Conversely, if they are on different qubits,
<!-- l. 322 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-rel' stretchy='false'>≠</mo><msub><mrow><mi>q</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>,
then they must be part of a CZ or CNOT gate, and hence
<!-- l. 323 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>r</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>r</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>. In
                                                                     

                                                                     
<!-- l. 324 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math>,
every spider arises from fusing together adjacent spiders on the same qubit line
from the original diagram (apart from the additional identity spiders introduced
in the last step, which we will ignore for now):
</p>
<div class='center'>
<!-- l. 326 --><p class='noindent'>
</p><!-- l. 327 --><p class='noindent'><object data="svgs/circuit-spider-coordinates-fused.svg" alt="diagram of circuit-spider-coordinates-fused" class="svg-diagram"></object> </p></div>
<!-- l. 330 --><p class='indent'>   For a spider <!-- l. 330 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> in
<!-- l. 330 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math> we can thus associate
two numbers <!-- l. 330 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub></math>,
and <!-- l. 330 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub></math>,
where <!-- l. 331 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub></math>
is the lowest column-number of a spider fused into
<!-- l. 331 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>, and
<!-- l. 331 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub></math> the
highest. For instance, for the second spider on the second qubit, we have
<!-- l. 332 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>s</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>3</mn></mrow></math> and
<!-- l. 332 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>5</mn></mrow></math>. Spider
fusion in <!-- l. 333 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
only happens for spiders on the same qubit-line, and hence
<!-- l. 333 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> also inherits
a unique <!-- l. 333 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub></math>
from all the spiders that got fused into it. An identity spider
<!-- l. 334 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
created by the last step of the translation, must be attached to
either an input or an output. If it is attached to an input, we set
<!-- l. 336 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>0</mn></mrow></math>. If it is attached to
an output we set <!-- l. 336 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-bin' stretchy='false'>+</mo><mi>∞</mi></mrow></math>
(or any value bigger than the largest value of
<!-- l. 337 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub></math> in the diagram).
For this proof we can treat these spiders the same way as the others. We define a partial
order on <!-- l. 339 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
as follows: <!-- l. 339 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>w</mi></mrow></math>
if and only if <!-- l. 339 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>w</mi></mrow></math>
or <!-- l. 339 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>. It
is straightforward to check that this is indeed a partial order. Now for any
<!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> in
<!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math> that is not an
output, set <!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> where
<!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> is the unique neighbour to
                                                                     

                                                                     
the right of <!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> on the same
qubit-line. We claim <!-- l. 341 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> is a
gflow. By construction <!-- l. 342 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><mstyle class='text'><mtext>Odd</mtext></mstyle><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
We need <!-- l. 342 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>. The spiders
of <!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math> that got fused into
the same spider in <!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
must have all been adjacent. Hence, for the distinct spiders
<!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> and
<!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> in
<!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>D</mi></mrow><mrow><mi>′</mi></mrow></msup></math> on the same qubit
we must have <!-- l. 343 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>s</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>,
as they couldn’t have overlap in the spiders that got merged into them. Hence,
<!-- l. 344 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>t</mi></mrow><mrow><mi>u</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub></mrow></math> so that
<!-- l. 344 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>. Suppose
<!-- l. 345 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><mstyle class='text'><mtext>Odd</mtext></mstyle><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> so that
<!-- l. 345 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∼</mo> <mi>v</mi></mrow></math>. We need to
show that <!-- l. 345 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>w</mi></mrow></math>. If
<!-- l. 345 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>w</mi></mrow></math> this is trivial so
suppose <!-- l. 345 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>w</mi></mrow></math>. First
suppose that <!-- l. 346 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>q</mi></mrow><mrow><mi>w</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub></mrow></math> (which
is also equal to <!-- l. 346 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>q</mi></mrow><mrow><mi>u</mi></mrow></msub></math>).
We know <!-- l. 346 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
has a maximum of two neighbours on the same qubit-line (one to
the left, and one to the right), and since the one to the left is
<!-- l. 347 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
<!-- l. 347 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> must be to
the right, so <!-- l. 347 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>w</mi></mrow></math>.
If instead <!-- l. 348 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>q</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-rel' stretchy='false'>≠</mo><msub><mrow><mi>q</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>
then their connection must have arisen from some CNOT or CZ gate in
<!-- l. 348 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>, and hence the
intervals <!-- l. 349 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>[</mo><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>]</mo></mrow></math> and
<!-- l. 349 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>[</mo><msub><mrow><mi>s</mi></mrow><mrow><mi>w</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>t</mi></mrow><mrow><mi>w</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>]</mo></mrow></math> must have overlap,
so that necessarily <!-- l. 350 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>s</mi></mrow><mrow><mi>w</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>≤</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>v</mi></mrow></msub></mrow></math>
and <!-- l. 350 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>≤</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math>. Since
we also have <!-- l. 351 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>t</mi></mrow><mrow><mi>u</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub></mrow></math>
we get <!-- l. 351 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>t</mi></mrow><mrow><mi>u</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>&lt;</mo> <msub><mrow><mi>s</mi></mrow><mrow><mi>v</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>≤</mo> <msub><mrow><mi>t</mi></mrow><mrow><mi>w</mi></mrow></msub></mrow></math> so
that indeed <!-- l. 351 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>w</mi></mrow></math>.
                                                                   □
</p>
   </div>
   <div class='newtheorem'>
<!-- l. 353 --><p class='noindent'><span class='head'>
<a id='x12-204002r7'></a>
                                                                     

                                                                     
<span class='cmbx-10x-x-109'>Remark 9.2.7.</span>  </span>A gflow like we get here, where each correction set only
contains a single element, is known as a <span class='cmbx-10x-x-109'>causal flow</span>, or just a <span class='cmti-10x-x-109'>flow</span>. This is
the kind of flow that gflow is generalising.
</p>
   </div>
<!-- l. 355 --><p class='indent'>    There are also some simple modifications we can make to an open
graph that preserve the existence of a gflow. Like adding new vertices
after an output or adding and removing connections between output
vertices.
</p>
   <div class='newtheorem'>
<!-- l. 357 --><p class='noindent'><span class='head'>
<a id='x12-204003r4'></a>
<span class='cmbx-10x-x-109'>Exercise 9.4.</span>  </span> Let <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an open graph with a gflow <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and suppose that outputs <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>o</mi></mrow><mrow><mi>i</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>j</mi></mrow></msub> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>O</mi></mrow></math>
are connected. Show then that <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
is also a gflow for the open graph <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>E</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
where <!-- l. 358 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>E</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>E</mi><mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>i</mi></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>j</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>,
i.e. the graph where we removed an edge between two outputs. Similarly,
show that adding an edge between two outputs also preserves gflow.
</p>
   </div>
<!-- l. 359 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 360 --><p class='noindent'><span class='head'>
<a id='x12-204004r5'></a>
<span class='cmbx-10x-x-109'>Exercise 9.5.</span>  </span> Let <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an open graph with a gflow <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and let <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>o</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>O</mi></mrow></math>
be some chosen output. Define <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>V</mi> </mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>E</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>O</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
by <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>V</mi> </mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>,
<!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>O</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-bin' stretchy='false'>∪</mo> <mi>O</mi><mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>o</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
and <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>E</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>E</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mo class='MathClass-open' stretchy='false'>(</mo><mi>o</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
That is: <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
is just <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
but with another vertex <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
                                                                     

                                                                     
after <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>o</mi></math>
that becomes the new output. Show that <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mo class='MathClass-rel' stretchy='false'>≺</mo></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
is a gflow for <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
where <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <msup><mrow><mo class='MathClass-rel' stretchy='false'>≺</mo></mrow><mrow><mi>′</mi></mrow></msup></mrow></math>
is just the transitive closure of <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>
with the additional relation <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>o</mi> <msup><mrow><mo class='MathClass-rel' stretchy='false'>≺</mo></mrow><mrow><mi>′</mi></mrow></msup><mi>u</mi></mrow></math>,
and <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>o</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>,
and <!-- l. 361 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>v</mi></mrow></math>
for every other vertex.
</p>
   </div>
<!-- l. 362 --><p class='indent'>    Note that these results only talk about creating a new pattern that also has
a gflow. We are not defining an actual measurement pattern, and hence we are
not saying anything about whether this new pattern implements the same
linear map or not. In Section <a href='#optimising-deterministic-measurement-patterns'>9.3<!-- tex4ht:ref: sec:gflow-preservation  --></a> we will prove that some more elaborate
ways in which we can change graphs also preserve the existence of a
gflow.
</p>
   <h4 class='subsectionHead' id='focussed-gflow'><span class='titlemark'>9.2.5   </span> <a id='x12-2050009.2.5'></a>Focussed gflow</h4>
<!-- l. 366 --><p class='noindent'>The definition of a gflow allows the correction set
<!-- l. 366 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> to also
induce corrections on other vertices, as long as those other vertices are in the future
of <!-- l. 366 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>. That
is, <!-- l. 366 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
can contain more than one vertex. It turns out that we can modify a gflow to just
allow <!-- l. 366 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
to be corrected and no other measured vertex (this turns out to be useful
later).
</p>
   <div class='newtheorem'>
<!-- l. 367 --><p class='noindent'><span class='head'>
<a id='x12-205001r8'></a>
<span class='cmbx-10x-x-109'>Definition 9.2.8.</span>  </span>We say a gflow <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
on an open graph <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
is <span class='cmbx-10x-x-109'>focussed </span>when for every <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>,
the corrected vertices <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
are either <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>u</mi></mrow></math>
or <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>O</mi></mrow></math>.
That is, <!-- l. 368 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
                                                                     

                                                                     
</p>
   </div>
<!-- l. 369 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 370 --><p class='noindent'><span class='head'>
<a id='x12-205002r6'></a>
<span class='cmbx-10x-x-109'>Exercise 9.6.</span>  </span>Let <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an open graph with a gflow <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
Pick some vertex <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>.
Let <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> </mrow></math>
be some set of vertices such that for any <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>A</mi></mrow></math>
and <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
we have <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>
and <!-- l. 371 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>v</mi></mrow></math>.
Show then that the function <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
defined by <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>A</mi></mrow></math>
and <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
for all <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>u</mi></mrow></math>
<span class='cmti-10x-x-109'>also </span>defines a gflow <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
on <!-- l. 372 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>.
<br class='newline' />Hint: Use Exercise <a href='#x12-202015r3'>9.3<!-- tex4ht:ref: exer:odd-neighbourhoods  --></a>.
</p>
   </div>
<!-- l. 374 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 375 --><p class='noindent'><span class='head'>
<a id='x12-205003r7'></a>
<span class='cmbx-10x-x-109'>Exercise* 9.7.</span>  </span> Show that if an open graph has a gflow, then it also has a
focussed gflow. <br class='newline' /><span class='cmti-10x-x-109'>Hint: if you have some </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
<span class='cmti-10x-x-109'>for which </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
<span class='cmti-10x-x-109'>contains some vertex </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
<span class='cmti-10x-x-109'>it shouldn’t, then </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
<span class='cmti-10x-x-109'>has to be in the future of </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math><span class='cmti-10x-x-109'>.
Argue that </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
<span class='cmti-10x-x-109'>satisfies the conditions of the previous exercise. Proceed to modify </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
                                                                     

                                                                     
<span class='cmti-10x-x-109'>with </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>A</mi></math><span class='cmti-10x-x-109'>.
What has now changed about </span><!-- l. 377 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math><span class='cmti-10x-x-109'>?</span>
</p>
   </div>
<!-- l. 378 --><p class='indent'>
</p>
   <h3 class='sectionHead' id='optimising-deterministic-measurement-patterns'><span class='titlemark'>9.3   </span> <a id='x12-2060009.3'></a>Optimising deterministic measurement patterns</h3>
<!-- l. 380 --><p class='noindent'>In Chapter <a href='main_htmlch5.html#clifford-circuits-and-diagrams'>5<!-- tex4ht:ref: ch:clifford  --></a> we saw two rewrites that proved very useful for optimising Clifford
diagrams: local complementation and pivoting. These rewrites allowed us to
remove internal spiders from a graph-like diagram. As we’ve seen in this
chapter, we can view graph-like diagrams as measurement patterns, and
then internal spiders become measured qubits. Hence, these rewrites
now offer ways to optimise the number of qubits we need to measure in
the pattern. Of course, this is only useful if it preserves our ability to
deterministically implement the measurement pattern, i.e. if it preserves
the existence of a gflow. That is precisely what we will prove in this
section. While we tried to present the proofs here in as simple a way as
possible, it still requires some stamina to process all the odd-neighbourhood
acrobatics. So perhaps on a first read-through you might want to just read the
statements of Proposition <a href='#x12-206004r2'>9.3.2<!-- tex4ht:ref: prop:gflow-lcomp  --></a> and <a href='#x12-206015r5'>9.3.5<!-- tex4ht:ref: prop:gflow-pivot  --></a> and then move on to the next
section to see what we will use these results for. Recall that for a graph
<!-- l. 382 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>, we
defined <!-- l. 382 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>⋆</mo> <mi>u</mi></mrow></math>
to be the graph where we locally complemented about
<!-- l. 382 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>. In
this graph the neighbourhoods have been updated as follows for any
<!-- l. 383 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> </mrow></math>:
</p><table class='equation'><tr><td>
<!-- l. 384 --><p class='indent'>
</p><!-- l. 384 --><math class='equation' display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mstyle class='label' id='x12-206001r20'></mstyle><!-- endlabel --><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mstyle><mtext></mtext></mstyle></mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo>                   <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>otherwise</mtext></mstyle>    </mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                                    </mrow><mo fence='true' form='postfix'></mo></mrow></mrow>
</mrow></math></td><td class='eq-no'>(9.20)</td></tr></table>
                                                                     

                                                                     
<!-- l. 387 --><p class='indent'>   We will also need to know how the odd neighbourhood of a set changes when
you apply a local complementation.
</p>
   <div class='newtheorem'>
<!-- l. 388 --><p class='noindent'><span class='head'>
<a id='x12-206002r1'></a>
<span class='cmbx-10x-x-109'>Lemma 9.3.1.</span>  </span> Given a graph <!-- l. 389 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
<!-- l. 389 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> </mrow></math>
and <!-- l. 389 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> </mrow></math>,
<!-- tex4ht:inline --></p><!-- l. 389 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow>
<mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mstyle><mtext></mtext></mstyle>  </mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mstyle><mtext></mtext></mstyle></mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                             </mrow><mo fence='true' form='postfix'></mo></mrow></mrow>
</mrow></math>
<!-- l. 389 --><p class='nopar'>
</p>
   </div>
<!-- l. 390 --><p class='indent'>
</p>
   <div class='proof'>
<!-- l. 392 --><p class='indent'>   <span class='head'>
<span class='cmti-10x-x-109'>Proof.</span> </span>Using the fact that <!-- l. 392 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
we calculate:
                                                                     

                                                                     
<!-- tex4ht:inline --></p><!-- l. 393 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mtable class='eqnarray-star' columnalign='right center left' displaystyle='true'>
<mtr><mtd class='eqnarray-1'><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-2'>     <mo class='MathClass-rel' stretchy='false'>=</mo>   </mtd><mtd class='eqnarray-3'>   <mspace class='nbsp' width='0.33em'></mspace><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo>                                      </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>           </mtd><mtd class='eqnarray-2'>   <mover class='stackrel'><mrow><mo class='MathClass-rel' stretchy='false'>=</mo></mrow><mrow><mrow><mstyle class='text'><mtext class='textup' mathvariant='normal'>(</mtext><mtext class='label' xlink:href='#x12-206001r20' xlink:type='simple' xmlns:xlink='http://www.w3.org/1999/xlink'>9.20<!-- tex4ht:ref: eq:neighbourhood-lcomp  --></mtext><mtext class='endlabel'>)</mtext></mstyle></mrow></mrow></mover></mtd><mtd class='eqnarray-3'>   <mspace class='nbsp' width='0.33em'></mspace> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mo class='MathClass-bin' stretchy='false'>∩</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mo class='MathClass-bin' stretchy='false'>∖</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow></mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>           </mtd><mtd class='eqnarray-2'>     <mo class='MathClass-rel' stretchy='false'>=</mo>   </mtd><mtd class='eqnarray-3'>   <mspace class='nbsp' width='0.33em'></mspace> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mo class='MathClass-bin' stretchy='false'>∩</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mo class='MathClass-bin' stretchy='false'>∩</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow>   </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>           </mtd><mtd class='eqnarray-2'>          </mtd><mtd class='eqnarray-3'>                                                     </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd></mtr></mtable>
</mrow></math>
<!-- l. 397 --><p class='nopar'>Here in the last step we simply regrouped the terms: we used the fact that the
<!-- l. 398 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> term
appears in both the terms above it so that we can combine them into
<!-- l. 398 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, and
we separated out the other terms. We then see that the first term is precisely
<!-- l. 398 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, while the last term is
just a union of all the <!-- l. 398 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
in <!-- l. 398 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
This expression hence simplifies to </p><table class='equation-star'><tr><td>
<!-- l. 399 --><math class='equation' display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow>
       <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mrow><mo fence='true' form='prefix'>(</mo><mrow><munder><mrow><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> </mrow><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mo class='MathClass-bin' stretchy='false'>∩</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></munder><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow><mo fence='true' form='postfix'>)</mo></mrow><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo>
</mrow></math></td></tr></table>
<!-- l. 402 --><p class='indent'>   It remains to simplify the middle expression. This is just a symmetric difference
of <!-- l. 402 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
with itself a number of times. This term hence only appears when
<!-- l. 402 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-rel' stretchy='false'>|</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-rel' stretchy='false'>|</mo><mo class='MathClass-rel' stretchy='false'>≡</mo> <mn>1</mn><mspace width='0.2em'></mspace><mo class='MathClass-bin' stretchy='false'> mod</mo><mspace width='0.2em'></mspace> <mn>2</mn></mrow></math>. This is precisely
the case when <!-- l. 402 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
Hence, if <!-- l. 402 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
<!-- l. 403 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Otherwise,
if <!-- l. 405 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, we
get <!-- l. 406 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
                                                                     

                                                                     
We can simplify this expression by using the property
<!-- l. 406 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>B</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>B</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mi>A</mi></mrow></math>
(convince yourself that this is true). The expression for
<!-- l. 406 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> then
becomes exactly what we wanted to prove.                                         □
</p>
   </div>
   <div class='newtheorem'>
<!-- l. 408 --><p class='noindent'><span class='head'>
<a id='x12-206004r2'></a>
<span class='cmbx-10x-x-109'>Proposition 9.3.2.</span>  </span> Let <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an open graph with a gflow <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and let <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>I</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo> <mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an internal vertex. Then <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>⋆</mo> <mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>,
the open graph we get by doing a local complementation about <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
and then removing <!-- l. 409 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
also has gflow.
</p>
   </div>
<!-- l. 410 --><p class='indent'>
</p>
   <div class='proof'>
<!-- l. 412 --><p class='indent'>   <span class='head'>
<span class='cmti-10x-x-109'>Proof.</span> </span>By Exercise <a href='#x12-205003r7'>9.7<!-- tex4ht:ref: exer:gflow-focussed  --></a> we may assume that the gflow
<!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>g</mi></math> of
<!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> is focussed,
i.e. that <!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> only
contains <!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> and
outputs of <!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> for any
<!-- l. 412 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>. We then claim
that the function <!-- l. 413 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>O</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>→</mo> <mi>℘</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>I</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
defined by </p><table class='equation'><tr><td>
<!-- l. 414 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 414 --><math class='equation' display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mstyle class='label' id='x12-206005r21'></mstyle><!-- endlabel --><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo>                <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mstyle><mtext></mtext></mstyle></mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>otherwise</mtext></mstyle></mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                                              </mrow><mo fence='true' form='postfix'></mo></mrow></mrow>
</mrow></math></td><td class='eq-no'>(9.21)</td></tr></table>
<!-- l. 417 --><p class='indent'>   gives a gflow <!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
on <!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>⋆</mo> <mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>. We
haven’t changed the partial order, so we just need to check the different conditions
that <!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
has to satisfy. First, note that it is well-defined: none of the
<!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> contain
<!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>. In
the first case this is true by construction, and in the second case we know that
<!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, so
that <!-- l. 417 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
Now we have to check three things:
     </p><dl class='enumerate'><dt class='enumerate'>
  1.. </dt><dd class='enumerate'>
     <!-- l. 420 --><p class='noindent'>All the elements of <!-- l. 420 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     are in the future of <!-- l. 420 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>.
     </p></dd><dt class='enumerate'>
  2.. </dt><dd class='enumerate'>
     <!-- l. 421 --><p class='noindent'>All the elements of <!-- l. 421 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     except for <!-- l. 421 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>
     itself are in the future of <!-- l. 421 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>.
     </p></dd><dt class='enumerate'>
  3.. </dt><dd class='enumerate'>
     <!-- l. 422 --><p class='noindent'><!-- l. 422 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     contains <!-- l. 422 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>.
     </p></dd></dl>
<!-- l. 424 --><p class='noindent'>For the first point, note that if <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
that then <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, in which
case all of <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> is definitely
in the future of <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>
(since we haven’t changed the partial order
<!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>). Otherwise
<!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, and hence
<!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>u</mi></mrow></math>, so that all the
elements of <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> are in
the future of <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>. Hence
                                                                     

                                                                     
<!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> only contains elements
in the future of <!-- l. 424 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>.
Then for the second and third point. Because
<!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>g</mi></math> is focussed and
<!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> is not an output,
we know that <!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
if <!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi><mo class='MathClass-rel' stretchy='false'>≠</mo><mi>u</mi></mrow></math>.
This means that when we use Lemma <a href='#x12-206002r1'>9.3.1<!-- tex4ht:ref: lem:oddneighbours  --></a> to calculate
<!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> the first case
applies and we get <!-- l. 425 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
So now let’s again make the case distinction on whether
<!-- l. 426 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. If this is not
the case, then <!-- l. 426 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
and hence
<!-- tex4ht:inline --></p><!-- l. 427 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow>
    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow>
<mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-punc' stretchy='false'>.</mo>
</mrow></math>
<!-- l. 427 --><p class='nopar'> Both the elements of <!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and <!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> are certainly
in the future of <!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>,
so that this odd neighbourhood lies in the future of
<!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>. Additionally,
<!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> contains
<!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>, while
<!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> does not, so that
<!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Hence, points 2 and 3
are satisfied for those <!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>
where <!-- l. 428 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. It then
remains to check <!-- l. 429 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
for the <!-- l. 429 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> that
satisfy <!-- l. 429 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
To calculate this set it will be useful to first calculate
<!-- l. 429 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. As
<!-- l. 429 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, the
second case of Lemma <a href='#x12-206002r1'>9.3.1<!-- tex4ht:ref: lem:oddneighbours  --></a> applies. We hence get
                                                                     

                                                                     
<!-- tex4ht:inline --></p><!-- l. 430 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow>
             <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-punc' stretchy='false'>.</mo>
</mrow></math>
<!-- l. 430 --><p class='nopar'> Then using the definition of <!-- l. 431 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
in Eq. (<a href='#x12-206005r21'>9.21<!-- tex4ht:ref: eq:gflow-lcomp-pf  --></a>) and the linearity property of odd neighbourhoods,
<!-- l. 431 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, we
calculate:
</p><!-- tex4ht:inline --><!-- l. 436 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mtable class='align-star' columnalign='left' displaystyle='true'>
<mtr><mtd class='align-odd' columnalign='right'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow>
<mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace width='2em'></mspace></mtd>        <mtd class='align-label' columnalign='right'></mtd><mtd class='align-label'>
<mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'></mtd>             <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace width='2em'></mspace></mtd><mtd class='align-label' columnalign='right'></mtd><mtd class='align-label'>
<mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'></mtd>             <mtd class='align-even'> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mspace width='2em'></mspace></mtd>        <mtd class='align-label' columnalign='right'></mtd><mtd class='align-label'>
   <mspace width='2em'></mspace></mtd></mtr></mtable></math>
<!-- l. 437 --><p class='noindent'>Here in the last step we used the property
<!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mi>B</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>B</mi> <mo class='MathClass-bin' stretchy='false'>∩</mo> <mi>A</mi></mrow></math> where
<!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>B</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. We have already seen
that every element of <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
is in the future of <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>.
Since we are assuming <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
we have <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>u</mi></mrow></math>, and
hence both <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> are in the future
of <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>. It remains to
verify that <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, but this
follows because <!-- l. 437 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>⋆</mo><mi>u</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
We hence see that <!-- l. 438 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
is indeed a gflow. Note that while we started with a focussed gflow
                                                                     

                                                                     
<!-- l. 438 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>g</mi></math>, the new
gflow <!-- l. 438 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
is not necessarily focussed.                                                              □
</p>
   </div>
<!-- l. 440 --><p class='indent'>   Proving that pivoting preserves gflow is done quite similarly. Just like how we
needed a lemma that told us how odd neighbourhoods evolved under application
of a local complementation, we need one that tells us what happens when a
pivot happens. For this it will be helpful to introduce a little bit of extra
notation.
</p>
   <div class='newtheorem'>
<!-- l. 441 --><p class='noindent'><span class='head'>
<a id='x12-206009r3'></a>
<span class='cmbx-10x-x-109'>Definition 9.3.3.</span>  </span>We define the <span class='cmbx-10x-x-109'>closed neighbourhood </span>of a vertex <!-- l. 442 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
as <!-- l. 442 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
Similarly we define the <span class='cmbx-10x-x-109'>closed odd neighbourhood </span>of a set <!-- l. 442 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>A</mi></math>
as <!-- l. 442 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mstyle class='MathClass-bin' stretchy='false'><mi mathvariant='normal'>Δ</mi></mstyle> <mi>u</mi><mo class='MathClass-rel' stretchy='false'>∈</mo><mi>A</mi><mspace class='thinspace' width='0.17em'></mspace><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>A</mi></mrow></math>.
</p>
   </div>
<!-- l. 443 --><p class='indent'>    Let <!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> and
<!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> be some vertices
of <!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>, and write
<!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>∧</mo> <mi mathvariant='italic'>uv</mi></mrow></math> for the graph where
we pivoted along <!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>uv</mi></mrow></math>.
Then for any <!-- l. 444 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>
we have: </p><table class='equation'><tr><td>
<!-- l. 445 --><p class='indent'>
</p><!-- l. 445 --><math class='equation' display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mstyle class='label' id='x12-206010r22'></mstyle><!-- endlabel --><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-bin' stretchy='false'>∩</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle></mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo>           <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle> </mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo>           <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle> </mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo>                      <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>otherwise</mtext></mstyle>                </mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                      </mrow><mo fence='true' form='postfix'></mo></mrow></mrow>
</mrow></math></td><td class='eq-no'>(9.22)</td></tr></table>
   <div class='newtheorem'>
                                                                     

                                                                     
<!-- l. 453 --><p class='noindent'><span class='head'>
<a id='x12-206011r8'></a>
<span class='cmbx-10x-x-109'>Exercise 9.8.</span>  </span>Calculate      using      this      equation,      that      when
<!-- l. 454 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>u</mi></mrow></math>
we                                                                                           get
<!-- l. 454 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
as                          we                          expect                          (since
<!-- l. 454 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
and
<!-- l. 454 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
essentially just swap places in the graph).
</p>
   </div>
<!-- l. 455 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 456 --><p class='noindent'><span class='head'>
<a id='x12-206012r4'></a>
<span class='cmbx-10x-x-109'>Lemma 9.3.4.</span>  </span> Given a graph <!-- l. 457 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
<!-- l. 457 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> </mrow></math>,
<!-- l. 457 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> </mrow></math>, and
<!-- l. 457 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
</p><table class='equation'><tr><td>
<!-- l. 458 --><p class='indent'>
</p><!-- l. 458 --><math class='equation' display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mstyle class='label' id='x12-206013r23'></mstyle><!-- endlabel --><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo>                      <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle>               </mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo>           <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle></mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo>           <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle></mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext><mstyle class='math'><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>A</mi><mo class='MathClass-close' stretchy='false'>]</mo></mstyle><mtext></mtext></mstyle>             </mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                           </mrow><mo fence='true' form='postfix'></mo></mrow></mrow>
</mrow></math></td><td class='eq-no'>(9.23)</td></tr></table>
   </div>
<!-- l. 467 --><p class='indent'>
</p>
                                                                     

                                                                     
   <div class='newtheorem'>
<!-- l. 468 --><p class='noindent'><span class='head'>
<a id='x12-206014r9'></a>
<span class='cmbx-10x-x-109'>Exercise* 9.9.</span>  </span>Prove Lemma <a href='#x12-206012r4'>9.3.4<!-- tex4ht:ref: lem:odd-neighbourhood-pivot  --></a>. <br class='newline' /><span class='cmti-10x-x-109'>Hint: You will need the same tricks that were used to prove Lemma </span><a href='#x12-206002r1'><span class='cmti-10x-x-109'>9.3.1</span><!-- tex4ht:ref: lem:oddneighbours  --></a><span class='cmti-10x-x-109'>.</span>
</p>
   </div>
<!-- l. 471 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 489 --><p class='noindent'><span class='head'>
<a id='x12-206015r5'></a>
<span class='cmbx-10x-x-109'>Proposition 9.3.5.</span>  </span> Let <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be an open graph with a gflow <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and let <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>I</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo> <mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be connected internal vertices. Then <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>G</mi></mrow><mrow><mi>′</mi></mrow></msup> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>∧</mo> <mi mathvariant='italic'>uv</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>,
the open graph we get by doing a pivot along <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>uv</mi></mrow></math>
and then removing <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
and <!-- l. 490 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>,
also has gflow.
</p>
   </div>
<!-- l. 491 --><p class='indent'>
</p>
   <div class='proof'>
<!-- l. 493 --><p class='indent'>   <span class='head'>
<span class='cmti-10x-x-109'>Proof.</span> </span>Again we will assume that <!-- l. 493 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>g</mi></math>
is focussed. We then define a gflow <!-- l. 493 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
for <!-- l. 493 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>∧</mo> <mi mathvariant='italic'>uv</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> as follows:
for every <!-- l. 493 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>w</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>O</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> set
<!-- l. 494 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>. Every condition
needed for <!-- l. 495 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
to be a focused gflow then follows immediately except for checking that
<!-- l. 495 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi><mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> contains
<!-- l. 495 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> and lies in the
future of <!-- l. 495 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math>. Note that
                                                                     

                                                                     
<!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-bin' stretchy='false'>∪</mo> <mi>O</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> by the focussed
property, so that <!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>]</mo><mspace class='thickpace' width='0.28em'></mspace><mo class='MathClass-rel' stretchy='false'>⟺</mo><mspace class='thickpace' width='0.28em'></mspace><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and similarly for <!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>.
Now, to look at the odd neighbourhoods of the correction sets we will make a case distinction
on <!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>w</mi></math> based
on whether <!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
or <!-- l. 496 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
</p>
     <ul class='itemize1'>
     <li class='itemize'>If <!-- l. 498 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     then also <!-- l. 498 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>]</mo></mrow></math>
     and hence by Lemma <a href='#x12-206012r4'>9.3.4<!-- tex4ht:ref: lem:odd-neighbourhood-pivot  --></a> <!-- l. 498 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
     Since <!-- l. 498 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     we are then done.
     </li>
     <li class='itemize'>
     <!-- l. 499 --><p class='noindent'>If <!-- l. 499 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, then
     also <!-- l. 499 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>]</mo></mrow></math>
     and <!-- l. 499 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
     Hence:
     <!-- tex4ht:inline --></p><!-- l. 500 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mtable class='eqnarray-star' columnalign='right center left' displaystyle='true'>
<mtr><mtd class='eqnarray-1'><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow>
<mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo>                              </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>                      </mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo>                </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>     <mo class='MathClass-open' stretchy='false'>(</mo><mstyle class='text'><mtext>Lem. </mtext><mtext class='label' xlink:href='#x12-206012r4' xlink:type='simple' xmlns:xlink='http://www.w3.org/1999/xlink'>9.3.4<!-- tex4ht:ref: lem:odd-neighbourhood-pivot  --></mtext><mtext class='endlabel'></mtext></mstyle><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-2'>     <mo class='MathClass-rel' stretchy='false'>=</mo> </mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>                      </mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo>    </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>                      </mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo>                                             </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>   </mtr></mtable>
</mrow></math>
                                                                     

                                                                     
     <!-- l. 506 --><p class='nopar'>Note that we used here the fact that
     <!-- l. 507 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
     <!-- l. 507 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, so
     that <!-- l. 507 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>]</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
     </p></li>
     <li class='itemize'>
     <!-- l. 508 --><p class='noindent'>If <!-- l. 508 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and <!-- l. 508 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     <!-- tex4ht:inline --></p><!-- l. 509 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mrow>
<mtable class='eqnarray-star' columnalign='right center left' displaystyle='true'>
<mtr><mtd class='eqnarray-1'><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow>
<mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo>                 </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>                      </mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo>   </mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>     <mo class='MathClass-open' stretchy='false'>(</mo><mstyle class='text'><mtext>Lem. </mtext><mtext class='label' xlink:href='#x12-206012r4' xlink:type='simple' xmlns:xlink='http://www.w3.org/1999/xlink'>9.3.4<!-- tex4ht:ref: lem:odd-neighbourhood-pivot  --></mtext><mtext class='endlabel'></mtext></mstyle><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>[</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>]</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle><msub><mrow> <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo></mtd><mtd class='eqnarray-4'> <mtext class='eqnarray'></mtext></mtd>
</mtr><mtr><mtd class='eqnarray-1'>                      </mtd><mtd class='eqnarray-2'>    <mspace class='nbsp' width='0.33em'></mspace> <mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace></mtd><mtd class='eqnarray-3'><msub><mrow>    <mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo>         </mtd><mtd class='eqnarray-4'><mtext class='eqnarray'></mtext></mtd>         </mtr></mtable>
</mrow></math>
     <!-- l. 515 --><p class='nopar'>Here we have used that <!-- l. 516 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi><mo class='MathClass-bin' stretchy='false'>∧</mo><mi mathvariant='italic'>uv</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <msub><mrow><mi>N</mi></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
     As we are deleting <!-- l. 516 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
     and <!-- l. 516 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>
     from the final graph, we can ignore the fact that we get
     <!-- l. 516 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
     in the odd neighbourhood.
     </p></li>
     <li class='itemize'>If <!-- l. 517 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and <!-- l. 517 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>w</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     we prove it similarly to the previous case. </li></ul>
                                                                   □
                                                                     

                                                                     
   </div>
<!-- l. 520 --><p class='indent'>   We hence see that we can indeed do the spider-removing version of local
complementation and pivoting while preserving the existence of gflow. You might
at this point wonder whether we couldn’t just do the local complementation
<span class='cmti-10x-x-109'>without </span>removing the spider, and whether this preserves gflow. It in fact does
not, but that is because we aren’t using the <span class='cmti-10x-x-109'>right </span>notion of gflow for this: the
spider-preserving version of local complementation (Lemma <a href='main_htmlch5.html#x8-112006r4'>5.2.4<!-- tex4ht:ref: lem:loc-comp-zx  --></a>) introduces a
<!-- l. 520 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> <mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
phase on the spider being pivoted on. This makes it so that we
can no longer interpret this spider as being measured in the
<!-- l. 520 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane. The solution to this is to treat it as a qubit measured in a different type of
plane. We will see how to do this in Section <a href='#measurements-in-three-planes'>9.5<!-- tex4ht:ref: sec:3-plane  --></a>.
</p>
   <div class='newtheorem'>
<!-- l. 521 --><p class='noindent'><span class='head'>
<a id='x12-206018r6'></a>
<span class='cmbx-10x-x-109'>Remark 9.3.6.</span>  </span>  Propositions <a href='#x12-206004r2'>9.3.2<!-- tex4ht:ref: prop:gflow-lcomp  --></a>  and <a href='#x12-206015r5'>9.3.5<!-- tex4ht:ref: prop:gflow-pivot  --></a>  are  results  about  open
<span class='cmti-10x-x-109'>graphs</span>, not measurement patterns. Hence, we can in general apply these
to make new kinds of measurement patterns, which might not implement
the same linear map as before. If we want to apply these in a way that
preserves  the  linear  map  the  pattern  is  implementing,  we  also  need  to
consider the specific measurement angles the pattern must have and how
these get updated by the rewrite. For this we would need to reference the ZX
local complementation and pivot simplifications of Lemma <a href='main_htmlch5.html#x8-114002r9'>5.2.9<!-- tex4ht:ref: lem:lc-simp  --></a> and <a href='main_htmlch5.html#x8-114005r11'>5.2.11<!-- tex4ht:ref: lem:pivot-simp  --></a>.
</p>
   </div>
<!-- l. 523 --><p class='indent'>
</p>
   <h3 class='sectionHead' id='from-measurement-patterns-to-circuits'><span class='titlemark'>9.4   </span> <a id='x12-2070009.4'></a>From measurement patterns to circuits</h3>
<!-- l. 525 --><p class='noindent'>Starting with a quantum circuit, we can transform it into a graph-like diagram
which has gflow (Proposition <a href='#x12-204001r6'>9.2.6<!-- tex4ht:ref: prop:circuit-to-gflow  --></a>), and hence we can turn this circuit into a
deterministic measurement pattern. We have also seen several ways in which we
can change a measurement pattern while preserving gflow. These patterns we get
don’t necessarily look very circuit-like any more, so it is not obvious any more
how the connections and measurements in this pattern correspond to unitaries
acting on an input state. In this section we will see that nevertheless we can
transform an arbitrary deterministic measurement pattern with gflow back into a
circuit that implements the same linear map. Since these patterns are
                                                                     

                                                                     
deterministic, we can represent the linear map they implement just as a
graph-like ZX-diagram, like we did in Section <a href='#graphlike-zxdiagrams-as-measurement-fragments'>9.2.1<!-- tex4ht:ref: sec:fragment-to-graph-like  --></a>. The input of our algorithm
will be a graph-like diagram whose underlying open graph has a gflow, and the
output should be an equivalent quantum circuit. We call this process <span class='cmbx-10x-x-109'>circuit
extraction</span>. The basic idea will be similar to the CNOT circuit extraction
algorithm we saw way back in Chapter <a href='main_htmlch4.html#cnot-circuits-and-phasefree-zxdiagrams'>4<!-- tex4ht:ref: ch:phasefree  --></a>, but instead of doing one round of
Gaussian elimination to get a circuit out, we will be doing ‘a little bit’ of row
elimination in order to extract a single internal spider from the pattern. We
repeat this until the diagram contains no more internal spiders. We then
have a diagram looking very similar to the Clifford GSLC normal form
of Section <a href='main_htmlch5.html#normal-form-for-clifford-circuits'>5.3.3<!-- tex4ht:ref: sec:Clifford-circuit-nf  --></a>, which we know how to turn into a circuit. Since our
algorithm doesn’t work with measurement patterns directly, but with
ZX-diagrams, we can let the input be <span class='cmti-10x-x-109'>any </span>graph-like diagram whose underlying
open graph has gflow. Such a diagram will then look something like this:
</p><table class='equation'><tr><td>
<!-- l. 529 --><p class='indent'>
</p><!-- l. 529 --><object id='x12-207001r24' data="svgs/pre-extract-diagram-ex.svg" alt="diagram of pre-extract-diagram-ex" class="svg-diagram"></object></td><td class='eq-no'>(9.24)</td></tr></table>
<!-- l. 532 --><p class='indent'>   We put some phases on the spiders for concreteness, but as our only
consideration is whether the diagram has gflow, these are pretty much irrelevant
to the steps we need to do to extract a circuit out of a diagram. So let’s start
trying to make this diagram more circuit like. As in Section <a href='main_htmlch5.html#normal-form-for-clifford-circuits'>5.3.3<!-- tex4ht:ref: sec:Clifford-circuit-nf  --></a>, we first
observe that the spiders on the boundary already directly correspond to quantum
gates: either single-qubit gates or two-qubit CZ gates: </p><table class='equation'><tr><td>
<!-- l. 534 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 534 --><object id='x12-207002r25' data="svgs/eq-pre-extract-diagram.svg" alt="diagram of eq:pre-extract-diagram" class="svg-diagram"></object></td><td class='eq-no'>(9.25)</td></tr></table>
<!-- l. 537 --><p class='indent'>   Here we mark the two parts of the diagram by ‘unextracted’ and ‘extracted’
to denote that we are done with the part on the right. This part already looks
like a circuit now, so we don’t have to do anything with that anymore. We will
refer to the spiders on the boundary of the extracted and unextracted part as the
<span class='cmbx-10x-x-109'>frontier</span>. We will be applying operations to the frontier in such a way that we
can move frontier spiders to the extracted part and internal spiders onto the
frontier. The reason we start at the end of the diagram instead of at
the beginning is because it will be easier to show that such operations
preserve the existence of a gflow on the remaining diagram. The extraction
algorithm is only guaranteed to work if the diagram has gflow, so it is
important that all the steps change the diagram in ways which preserve the
existence of a gflow. For instance, in Eq. (<a href='#x12-207002r25'>9.25<!-- tex4ht:ref: eq:pre-extract-diagram  --></a>) the underlying graph of the
unextracted part only changed in having no more connections between the
output vertices. This is exactly the transformation that we showed in
Exercise <a href='#x12-204003r4'>9.4<!-- tex4ht:ref: exer:gflow-output-czs  --></a> preserves gflow. In the case of the GSLC normal form of
Section <a href='main_htmlch5.html#normal-form-for-clifford-circuits'>5.3.3<!-- tex4ht:ref: sec:Clifford-circuit-nf  --></a>, we realised that the internal connectivity of the diagram
corresponds to a CNOT circuit. Here we can do something similar, but
instead of rewriting the entire diagram to a CNOT circuit directly, we
can ‘extract’ a single CNOT in order to change the connectivity of the
diagram:
</p>
   <div class='newtheorem'>
<!-- l. 539 --><p class='noindent'><span class='head'>
<a id='x12-207003r1'></a>
<span class='cmbx-10x-x-109'>Proposition 9.4.1.</span>  </span> For any graph-like diagram
<!-- l. 540 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>, the
following equation holds: </p><table class='equation-star'><tr><td>
                                                                     

                                                                     
<!-- l. 541 --><object data="svgs/cnot-pivot.svg" alt="diagram of cnot-pivot" class="svg-diagram"></object></td></tr></table>
<!-- l. 544 --><p class='indent'>   where <!-- l. 544 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>M</mi></math>
describes the biadjacency matrix of the relevant vertices, and
<!-- l. 544 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>M</mi></mrow><mrow><mi>′</mi></mrow></msup></math> is the matrix produced
by starting with <!-- l. 544 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>M</mi></math>
and then adding row 1 to row 2, taking sums modulo 2. Furthermore, if the
diagram on the left has gflow, then the graph-like part on the right also has
gflow.
</p>
   </div>
<!-- l. 546 --><p class='indent'>
</p>
   <div class='proof'>
<!-- l. 548 --><p class='indent'>   <span class='head'>
<span class='cmti-10x-x-109'>Proof.</span> </span>For clarity we will not draw the entire diagram, but instead we focus on
the relevant part. First of all we note that we can add CNOTs in the following
way while preserving equality: </p><table class='equation'><tr><td>
<!-- l. 549 --><p class='indent'>
</p><!-- l. 549 --><object id='x12-207004r26' data="svgs/eq-cnot-pivot3.svg" alt="diagram of eq:cnot-pivot3" class="svg-diagram"></object></td><td class='eq-no'>(9.26)</td></tr></table>
<!-- l. 552 --><p class='indent'>   Now let <!-- l. 552 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>A</mi></math>
denote the set of vertices connected to the top vertex, but not to the vertex beneath it,
<!-- l. 552 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>B</mi></math> the set of vertices
connected to both, and <!-- l. 552 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>C</mi></math>
the vertices connected only to the bottom one. Further restricting our
view of the diagram to just these two lines, we see that we can apply a
                                                                     

                                                                     
pivot:
</p>
<div class='center'>
<!-- l. 554 --><p class='noindent'>
</p><!-- l. 555 --><p class='noindent'><object data="svgs/cnot-pivot4.svg" alt="diagram of cnot-pivot4" class="svg-diagram"></object> </p></div>
<!-- l. 558 --><p class='indent'>   Looking at the connectivity matrix, it is straightforward to see that the matrix
<!-- l. 558 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>M</mi></math> has
now been changed in exactly the way described. To see that these operations
preserve the existence of a gflow, note first that we can view the rewrite of
Eq. (<a href='#x12-207004r26'>9.26<!-- tex4ht:ref: eq:cnot-pivot3  --></a>) as adding some identity spiders to the outputs of a diagram, and
adding connections between these outputs. Hence, by Exercises <a href='#x12-204003r4'>9.4<!-- tex4ht:ref: exer:gflow-output-czs  --></a> and <a href='#x12-204004r5'>9.5<!-- tex4ht:ref: exer:gflow-outputs  --></a> the
resulting diagram still has gflow. We then do a pivot, which also preserves gflow
by Proposition <a href='#x12-206015r5'>9.3.5<!-- tex4ht:ref: prop:gflow-pivot  --></a>, and finally we consider the last CNOT as no longer being
part of the graph-like diagram, which on the level of the underlying open graph
looks like removing some output spiders, which can also be shown to preserve
gflow.                                                                                         □
</p>
   </div>
<!-- l. 561 --><p class='indent'>   To demonstrate how we can use this, let us write down the biadjacency
matrix from the frontier to the other spiders in our example diagram:
</p><table class='equation'><tr><td>
<!-- l. 562 --><p class='indent'>
</p><!-- l. 562 --><object id='x12-207005r27' data="svgs/eq-pre-extract-diagram-biadjacency.svg" alt="diagram of eq:pre-extract-diagram-biadjacency" class="svg-diagram"></object></td><td class='eq-no'>(9.27)</td></tr></table>
<!-- l. 565 --><p class='indent'>   We see that if we add the fourth row to the third row that there will be only
a single 1 on the third row. This means that the third frontier spider is only
connected to a single internal spider, and hence corresponds to an identity spider
that can be removed: </p><table class='equation'><tr><td>
<!-- l. 566 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 566 --><object id='x12-207006r28' data="svgs/diagram-extract-cnot-reduce.svg" alt="diagram of diagram-extract-cnot-reduce" class="svg-diagram"></object></td><td class='eq-no'>(9.28)</td></tr></table>
<!-- l. 569 --><p class='indent'>   We now have one less spider in the unextracted part. We can again unfuse the
phase of the frontier spider into the extracted part, and the same for the
connections between the frontier spiders. We then rinse and repeat, extracting
the spiders one by one. But <span class='cmti-10x-x-109'>why </span>can we always do this? This is where gflow
comes into play. Using gflow we can show that the biadjacency matrix always has
this property that we can reduce at least one of the rows to contain a single
<!-- l. 571 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>1</mn></math>
using row operations: Suppose we have a graph-like diagram
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math> and that its
underlying open graph <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
has a gflow <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Pick
now the vertex <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
that is maximal according to the partial order
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math> in the
set <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math>.
That is, <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
corresponds to the <span class='cmti-10x-x-109'>last </span>measured qubit. Now we know that
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-bin' stretchy='false'>∖</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> only contain vertices
in the future of <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
So in this case they must only contain outputs. So let
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mi>o</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-punc' stretchy='false'>,</mo><mo>…</mo><mo class='MathClass-punc' stretchy='false'>,</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>k</mi></mrow></msub></mrow></math> be the outputs
that form <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Their
sets of neighbours <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>j</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
then correspond to rows of the biadjacency matrix we wish to
simplify. We are assuming we have already gotten rid of any
connections between outputs, so that there are no outputs in the set
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>j</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. We know that
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>O</mi> <mo class='MathClass-bin' stretchy='false'>∪</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> and furthermore
<!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-rel' stretchy='false'>⋯</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>k</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> (Exercise <a href='#x12-202014r2'>9.2<!-- tex4ht:ref: exer:def-odd-neighbourhood  --></a>).
So in fact <!-- l. 572 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>. Now
here comes the kicker: Taking the symmetric difference of sets follows exactly the logic of
addition in <!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>𝔽</mi><mn>2</mn></mrow></math>! If we
‘add’ two sets <!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>A</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>B</mi></mrow></math>,
then if there is an <!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>s</mi></math>
                                                                     

                                                                     
with <!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>s</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>A</mi></mrow></math> and
<!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>s</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>B</mi></mrow></math>, then
<!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>s</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>A</mi><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>B</mi></mrow></math>, exactly
how <!-- l. 573 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mn>1</mn> <mo class='MathClass-bin' stretchy='false'>⊕</mo> <mn>1</mn> <mo class='MathClass-rel' stretchy='false'>=</mo> <mn>0</mn></mrow></math>.
All the other cases are checked similarly. So when we were adding
together rows in the biadjacency matrix, what we were really doing was
calculating the symmetric difference of the neighbourhoods. So since
<!-- l. 575 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mn>1</mn></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mo class='MathClass-rel' stretchy='false'>⋯</mo><mstyle class='MathClass-bin' stretchy='false'> <mi mathvariant='normal'>Δ</mi></mstyle> <mi>N</mi><mo class='MathClass-open' stretchy='false'>(</mo><msub><mrow><mi>o</mi></mrow><mrow><mi>k</mi></mrow></msub><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>, that means
if we add together the rows of the biadjacency matrix corresponding to the outputs
<!-- l. 575 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>o</mi></mrow><mrow><mi>j</mi></mrow></msub></math>, then the resulting
row has just a single <!-- l. 575 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>1</mn></math>,
which corresponds to <!-- l. 575 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
Hence, gflow tells us exactly which rows we can add together, and hence which
CNOTs we need to place, in order to make progress. As we can do row
operations on our biadjacency matrix using Proposition <a href='#x12-207003r1'>9.4.1<!-- tex4ht:ref: prop:extract-cnot  --></a> and this preserves
gflow, we will have after extracting a vertex <span class='cmti-10x-x-109'>still </span>a diagram which has gflow. And
hence when we repeat this procedure we will always be able to find some rows in
the biadjacency matrix that combine together to form a row with a single
<!-- l. 576 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mn>1</mn></math>,
whose spider can then be extracted. Note that this is a similar procedure to how
we extracted a circuit from a CNOT+Phase diagram in Section <span class='cmbx-10x-x-109'>??</span>: there we did
column operations in order to reduce a column to contain just a single 1. Because
we are extracting from the right here, we are doing row operations instead. At
some point we will have removed all internal spiders, in which the case the
remaining diagram is like the GSLC normal form of the previous chapter, except
that the phases on the spiders can be arbitrary. This final bit can then also be
transformed into a circuit using a variation on the procedure described in
Section <a href='main_htmlch5.html#normal-form-for-clifford-circuits'>5.3.3<!-- tex4ht:ref: sec:Clifford-circuit-nf  --></a> and then we are done. We can then conclude with the following
theorem.
</p>
   <div class='newtheorem'>
<!-- l. 579 --><p class='noindent'><span class='head'>
<a id='x12-207007r2'></a>
<span class='cmbx-10x-x-109'>Theorem 9.4.2.</span>  </span> Let <!-- l. 580 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
be a graph-like diagram whose underlying open graph has a gflow and which
has the same number of inputs as outputs. Then we can efficiently extract a
unitary circuit that implements the same linear map as <!-- l. 580 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>.
</p>
   </div>
<!-- l. 581 --><p class='indent'>    In Exercise <a href='main_htmlch7.html#x10-177001r13'>7.13<!-- tex4ht:ref: exer:extraction-hardness  --></a> we saw that extracting a circuit from a ZX-diagram is in
general a very hard problem. But now we see that if the diagram has
                                                                     

                                                                     
gflow, that this ‘smooths’ it out enough so that it becomes much easier to
extract a circuit from it. Since any measurement pattern corresponds
to a graph-like ZX-diagram with some additional information on how
the measurement outcomes should be propagated, we can also use this
result to conclude that any measurement pattern with gflow must be
unitary.
</p>
   <div class='newtheorem'>
<!-- l. 584 --><p class='noindent'><span class='head'>
<a id='x12-207008r3'></a>
<span class='cmbx-10x-x-109'>Theorem 9.4.3.</span>  </span> A deterministic measurement fragment with gflow and
the same number of inputs as outputs implements a unitary.
</p>
   </div>
<!-- l. 586 --><p class='indent'>
</p>
   <h3 class='sectionHead' id='measurements-in-three-planes'><span class='titlemark'>9.5   </span> <a id='x12-2080009.5'></a>Measurements in three planes</h3>
<!-- l. 588 --><p class='noindent'>So far we have restricted all our thinking on determinism and
gflow to measurements all occurring in the same plane, namely the
<!-- l. 588 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> plane.
With some small modifications we can also make it work for measurement patterns
where the measurements occur in all three planes. Before we see how that works,
let’s answer an important question first: why bother? We’ve seen that we can do
universal computation with measurement patterns where all measurements are in
the <!-- l. 589 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane, and that any circuit can be transformed into a single-plane
measurement pattern. So why should we even talk about measurements
in other planes. There are a couple of reasons. First, in our discussion
on universal resource states in Section <a href='#universal-resources'>9.1.1<!-- tex4ht:ref: sec:universal-resources  --></a> we saw that cluster states
can be used to perform arbitrary computations. This however crucially
depends on ‘carving out’ paths by doing strategic measurements in the
<!-- l. 590 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
plane. It is possible to do it without this feature, but it makes it harder and less
intuitive. Second, in the previous chapter we’ve seen how useful phase gadgets
are. Phase gadgets are however not compatible with single-plane gflow. Consider
the following simple diagram containing a phase gadget connected to just one
spider: </p><table class='equation'><tr><td>
<!-- l. 593 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 593 --><object id='x12-208001r29' data="svgs/eq-mbqc-gadget-counter-example.svg" alt="diagram of eq:mbqc-gadget-counter-example" class="svg-diagram"></object></td><td class='eq-no'>(9.29)</td></tr></table>
<!-- l. 596 --><p class='indent'>   This diagram is of course unitary, and if we were to simplify the gadget to a
phase gate, the diagram would definitely have gflow. So what about this
diagram itself? Consider the following two facts about gflow that we know:
the phases of spiders are not important for having gflow or not; and if
you have gflow, the diagram must be unitary. Combining these facts we
see that if the diagram (<a href='#x12-208001r29'>9.29<!-- tex4ht:ref: eq:mbqc-gadget-counter-example  --></a>) were to have gflow, then the following
diagram would also have gflow, and hence would need to be unitary for all
<!-- l. 596 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math> and
<!-- l. 596 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>:
</p><table class='equation'><tr><td>
<!-- l. 597 --><p class='indent'>
</p><!-- l. 597 --><object id='x12-208002r30' data="svgs/mbqc-gadget-counter-example-2.svg" alt="diagram of mbqc-gadget-counter-example-2" class="svg-diagram"></object></td><td class='eq-no'>(9.30)</td></tr></table>
<!-- l. 600 --><p class='indent'>   But if we pick <!-- l. 600 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>α</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>β</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mfrac><mrow><mi>π</mi></mrow> 
<mrow><mn>2</mn></mrow></mfrac> </mrow></math>,
we can show that the diagram disconnects, and so it is not unitary. So
what is the issue here? We see that the problem with unitarity arises
when we put a non-zero phase on the ‘base’ of the gadget. Doing this
stops it from being a phase gadget, and makes it just a stack of two
spiders with some phase. Instead, we should be treating the two spiders
of the gadget as a single ‘unit’ where we can’t change the phase of the
base. We can do this by treating a phase gadget as a qubit measured
in a different basis than a regular spider. This then necessitates using
multiple measurement axes. The final reason for considering multiple
measurement planes, closely related to allowing for phase gadgets, is
that it allows us to be more efficient about our computations. It turns
out we can do the same computations with fewer measured qubits. So
                                                                     

                                                                     
with all this in mind, let’s see how we should think about measurements
happening in all three principal planes of the Bloch sphere. Recall first that
these measurement bases have a nice representation in the ZX-calculus:
</p><table class='equation'><tr><td>
<!-- l. 605 --><p class='indent'>
</p><!-- l. 605 --><object id='x12-208003r31' data="svgs/XY-effect.svg" alt="diagram of XY-effect" class="svg-diagram"></object></td><td class='eq-no'>(9.31)</td></tr></table>
<!-- l. 608 --><p class='indent'>   Here, as before, <!-- l. 608 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>α</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
denotes the measurement angle of this specific effect, and the
<!-- l. 608 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msub><mrow><mi>b</mi></mrow><mrow><mi>k</mi></mrow></msub></math>
is a Boolean variable denoting the outcome of the measurement. The
<!-- l. 608 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> and
<!-- l. 608 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
plane measurements correspond to natural structures in a graph-like
diagram: ‘regular’ internal spiders, and phase gadgets. We can view the
‘regular’ internal spiders of a graph-like diagram as qubits measured in the
<!-- l. 608 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane: </p><table class='equation'><tr><td>
<!-- l. 609 --><p class='indent'>
</p><!-- l. 609 --><object id='x12-208004r32' data="svgs/graph-like-XY-meas.svg" alt="diagram of graph-like-XY-meas" class="svg-diagram"></object></td><td class='eq-no'>(9.32)</td></tr></table>
<!-- l. 612 --><p class='indent'>   If we instead have a phase gadget, then we can view this as a qubit measured in
the <!-- l. 612 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
plane: </p><table class='equation'><tr><td>
<!-- l. 613 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 613 --><object id='x12-208005r33' data="svgs/graph-like-YZ-meas.svg" alt="diagram of graph-like-YZ-meas" class="svg-diagram"></object></td><td class='eq-no'>(9.33)</td></tr></table>
<!-- l. 616 --><p class='indent'>   Measurements in the <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
plane don’t naturally occur in the graph-like diagrams we consider, because the
<!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> </mrow></math> phase
on the spider would have meant it would’ve been removed by applying
a local complementation. Another ‘explanation’ to why we don’t need
<!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>-plane measurements, is that
we see that <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> measurements
correspond to <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>-spiders,
while <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> measurements
correspond to <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>-spiders.
Hence, <!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>-plane measurements
correspond to ‘<!-- l. 616 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> </mrow></math>-spiders’,
which we also don’t need to use.
</p>
   <div class='newtheorem'>
<!-- l. 617 --><p class='noindent'><span class='head'>
<a id='x12-208006r1'></a>
<span class='cmbx-10x-x-109'>Remark 9.5.1.</span>  </span>It might be a bit confusing to remember that <!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
measurements correspond to <!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
spiders and so on for the other types of effects. The trick is to remember
that the type of spider is the letter that does <span class='cmti-10x-x-109'>not </span>appear in the name. So for
<!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>,
the corresponding spider is <!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>,
and for <!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
it is <!-- l. 618 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>.
</p>
   </div>
<!-- l. 619 --><p class='indent'>    We see then that to view a graph-like diagram as a measurement
pattern, we need to interpret phase gadgets as qubits measured in the
<!-- l. 620 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
plane, while every other non-output spider is treated as a qubit measured in the
<!-- l. 620 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane. Now, let’s consider what the corresponding notion of gflow should
                                                                     

                                                                     
be for a 3-plane measurement pattern. To do so, let’s go back to the
examples we looked at at the start of Section <a href='#determinism-and-gflow'>9.2<!-- tex4ht:ref: sec:gflow  --></a>. There we considered an
<!-- l. 622 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
vertex that had an error: </p><table class='equation-star'><tr><td>
<!-- l. 623 --><object data="svgs/mbqc-correct-1.svg" alt="diagram of mbqc-correct-1" class="svg-diagram"></object></td></tr></table>
<!-- l. 626 --><p class='indent'>   We could then correct this by pushing out an
<!-- l. 626 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phase from the
<!-- l. 626 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertex with
phase <!-- l. 626 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>β</mi></math>. When we
push this <!-- l. 626 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phase,
it becomes a <!-- l. 626 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
at the location we want it: </p><table class='equation-star'><tr><td>
<!-- l. 627 --><object data="svgs/mbqc-correct-2.svg" alt="diagram of mbqc-correct-2" class="svg-diagram"></object></td></tr></table>
<!-- l. 630 --><p class='indent'>   We captured the more general version of this idea with the gflow correction sets
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Here the set
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> tells us where we have
to extract out <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phases
in order to get a <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
at the desired location. In particular, we get
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phases at all the
vertices in <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. The
conditions on <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
                                                                     

                                                                     
for <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> an
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertex are
hence that <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> (since we can’t extract
out an <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phase from
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> itself). We see then
that we interpret <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
as the vertices where we need to push out an
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> where we need to push
out a <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. The properties
of an <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>-plane measured
vertex <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> tell us what
the relations to <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and <!-- l. 630 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
need to be. Let’s now consider the same example, but with a
<!-- l. 631 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
vertex instead: </p><table class='equation-star'><tr><td>
<!-- l. 632 --><object data="svgs/mbqc-correct-1X.svg" alt="diagram of mbqc-correct-1X" class="svg-diagram"></object></td></tr></table>
<!-- l. 635 --><p class='indent'>   We see then that now we need to correct an
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> error instead
of a <!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> error.
Still treating <!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
as the ‘set of vertices where we push out an
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>’ we see then that
now we <span class='cmti-10x-x-109'>do </span>need <!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
to correct this error, as pushing out another
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> from
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
corrects the error present. Analogously, we now do <span class='cmti-10x-x-109'>not </span>want a
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> to appear at
<!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>, so we must
have <!-- l. 635 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. Putting it
                                                                     

                                                                     
succinctly: <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> are
the <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>-corrections,
while <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> are the
<!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>-corrections.
The measurement plane of the vertex determines which correction its measurement
outcome needs. Note that there is no restriction on what types of vertices can appear
in <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> or
<!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, as it is possible
to extract both <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
phases and <!-- l. 636 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
phases from a vertex used in a correction set, regardless of which measurement plane
that vertex has. In order to give a formal definition of a gflow on multiple measurement
planes we need to work with a <span class='cmti-10x-x-109'>labelled </span>open graph, where each non-output vertex
<!-- l. 637 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> is labelled by its type
<!-- l. 637 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. We take this type to
be a set that is either <!-- l. 637 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mo class='MathClass-close' stretchy='false'>}</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>Y</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
or <!-- l. 637 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
(defining it as a set likes this makes the following definition nicer).
</p>
   <div class='newtheorem'>
<!-- l. 638 --><p class='noindent'><span class='head'>
<a id='x12-208007r2'></a>
<span class='cmbx-10x-x-109'>Definition 9.5.2.</span>  </span> Let <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>E</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>t</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> be a
labelled open graph with types <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>t</mi></math>.
A <span class='cmbx-10x-x-109'>3-plane gflow </span><!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-punc' stretchy='false'>,</mo><mi>g</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> on
<!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> consists of a partial
order <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math> on the vertices
of <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>, and a <span class='cmbx-10x-x-109'>correction
set function </span><!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi> <mo class='MathClass-punc' stretchy='false'>:</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi> <mo class='MathClass-rel' stretchy='false'>→</mo> <mi>℘</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>I</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
that associates to every non-output vertex
<!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>O</mi></mrow></math> a subset of non-input
vertices <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>⊆</mo> <mi>V</mi> <mo class='MathClass-bin' stretchy='false'>∖</mo><mi>I</mi></mrow></math>, such that for
every non-output vertex <!-- l. 639 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
the following conditions hold:
     </p><dl class='enumerate'><dt class='enumerate'>
  1.. </dt><dd class='enumerate'>
     <!-- l. 641 --><p class='noindent'>The inputs are minimal in the partial order <!-- l. 641 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow> <mo class='MathClass-rel' stretchy='false'>≺</mo></mrow></math>
     (meaning that if <!-- l. 641 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>i</mi></mrow></math>
     for some input <!-- l. 641 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>i</mi></math>,
     then <!-- l. 641 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>i</mi></mrow></math>)
     and conversely the outputs are maximal;
                                                                     

                                                                     
     </p></dd><dt class='enumerate'>
  2.. </dt><dd class='enumerate'>
     <!-- l. 642 --><p class='noindent'>We have <!-- l. 642 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>≺</mo> <mi>v</mi></mrow></math>
     for every <!-- l. 642 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     and <!-- l. 642 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>v</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     i.e. corrections lie in the future of <!-- l. 642 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
     </p></dd><dt class='enumerate'>
  3.. </dt><dd class='enumerate'>
     <!-- l. 643 --><p class='noindent'><!-- l. 643 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     if and only if <!-- l. 643 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
     </p></dd><dt class='enumerate'>
  4.. </dt><dd class='enumerate'>
     <!-- l. 644 --><p class='noindent'><!-- l. 644 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
     if and only if <!-- l. 644 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
     </p></dd></dl>
<!-- l. 646 --><p class='noindent'>We say an open graph <span class='cmti-10x-x-109'>has 3-plane gflow </span>when at least one 3-plane gflow can be
defined on it.
</p>
   </div>
<!-- l. 647 --><p class='indent'>    This definition might look a bit weird, but we can check that this
gives the correct behaviour for all three types of measurement plane. If
<!-- l. 648 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>, then we see that
condition 3 gives <!-- l. 648 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
while condition 4 gives <!-- l. 648 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
This is because condition 4 is an ‘if and only if’. Hence, as we do <span class='cmti-10x-x-109'>not </span>have
<!-- l. 648 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>, we also do <span class='cmti-10x-x-109'>not </span>have
<!-- l. 648 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. In the same way we
can check that for <!-- l. 649 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>Y</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>
we get <!-- l. 649 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 649 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> as we expect. For the
final type <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mrow></math> we see that
we get the conditions <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>. This means that
to correct an error at <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
we should get both an <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
and a <!-- l. 650 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>π</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
there. We can check that this is indeed what is necessary: </p><table class='equation'><tr><td>
<!-- l. 651 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 651 --><object id='x12-208012r34' data="svgs/XZ-effect-error.svg" alt="diagram of XZ-effect-error" class="svg-diagram"></object></td><td class='eq-no'>(9.34)</td></tr></table>
<!-- l. 654 --><p class='indent'>   We indeed see that the wrong measurement outcome in a
<!-- l. 654 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>-plane measured vertex
requires both a Pauli <!-- l. 654 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>X</mi></math>
and <!-- l. 654 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>Z</mi></math>
to correct it. With this discussion we see then that 3-plane gflow allows us to
correct the wrong measurement outcome in every measured vertex. We can then
write down a 3-plane version of Theorem <a href='#x12-203001r4'>9.2.4<!-- tex4ht:ref: thm:gflow-zx-determinism  --></a>. As the fully-correct adaptation
is a bit technical to write down, we will instead give a more informal
description.
</p>
   <div class='newtheorem'>
<!-- l. 656 --><p class='noindent'><span class='head'>
<a id='x12-208013r3'></a>
<span class='cmbx-10x-x-109'>Theorem 9.5.3.</span>  </span> Let <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
be a graph-like ZX-diagram and let <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>t</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
be its underlying labelled open graph, where <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>t</mi></math>
is a choice of measurement planes ‘compatible’ with <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
(e.g. the plane is <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
for a ‘regular’ spider and <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
for a phase gadget). Then if its associated labelled open graph has a 3-plane
gflow, we can efficiently construct a deterministic measurement pattern from
<!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>
that implements the same linear map as <!-- l. 657 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>D</mi></math>.
</p>
   </div>
<!-- l. 658 --><p class='indent'>
</p>
   <div class='newtheorem'>
<!-- l. 659 --><p class='noindent'><span class='head'>
<a id='x12-208014r4'></a>
                                                                     

                                                                     
<span class='cmbx-10x-x-109'>Remark 9.5.4.</span>  </span>The reason we write ‘compatible with’ above, is because in
general there are multiple measurement planes that we can associate to a
spider. This happens when the spider has a Clifford phase, or more generally
when the diagram is an isometry instead of a unitary.
</p>
   </div>
<!-- l. 661 --><p class='indent'>    We can see something nice in Definition <a href='#x12-208007r2'>9.5.2<!-- tex4ht:ref: def:gflow-3  --></a> that simplifies our life
somewhat: each 3-plane gflow is compatible with exactly one choice of types.
This is because conditions 3 and 4 are if-and-only-if. Just by inspecting whether
<!-- l. 662 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> and
<!-- l. 662 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
we can exactly determine which of the three types
<!-- l. 662 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> is.
Hence, if we are given a labelled open graph with a 3-plane gflow, we don’t
actually need to know the labels as we can recover them from the gflow itself.
With slight abuse of notation we will hence just say that an (unlabelled) open
graph has a 3-plane gflow, and that the label of a vertex is determined by the
properties of its correction set.
</p>
   <h4 class='subsectionHead' id='rewriting-plane-gflow'><span class='titlemark'>9.5.1   </span> <a id='x12-2090009.5.1'></a>Rewriting 3-plane gflow</h4>
<!-- l. 664 --><p class='noindent'>Measurement patterns with 3-plane gflow allow some rewrites that
have no counterpart in the single measurement-plane model. For
instance, we can actually remove any vertex that is not measured in the
<!-- l. 664 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane.
</p>
   <div class='newtheorem'>
<!-- l. 665 --><p class='noindent'><span class='head'>
<a id='x12-209001r10'></a>
<span class='cmbx-10x-x-109'>Exercise 9.10.</span>  </span> Let <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
be an open graph with 3-plane gflow <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>.
Let <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
be a non-output, with <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
i.e. <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-rel' stretchy='false'>≠</mo><mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>.
Show that then <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
can be removed from <!-- l. 666 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math>
while preserving the existence of a 3-plane gflow and that furthermore, this
gflow can be chosen in such a way to preserve the measurement plane of all
                                                                     

                                                                     
vertices. <span class='cmti-10x-x-109'>Hint: On the new graph with </span><!-- l. 667 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
<span class='cmti-10x-x-109'>removed, define a new gflow </span><!-- l. 667 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math>
<span class='cmti-10x-x-109'>as </span><!-- l. 667 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
<span class='cmti-10x-x-109'>if </span><!-- l. 667 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
<span class='cmti-10x-x-109'>and </span><!-- l. 667 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mi mathvariant='normal'>Δ</mi><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
<span class='cmti-10x-x-109'>otherwise.</span>
</p>
   </div>
<!-- l. 668 --><p class='indent'>    While it might be surprising at first that we can just remove qubits while preserving gflow,
note that these <!-- l. 669 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
and <!-- l. 669 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
measurements we can remove are essentially phase gadgets. When we set the
phase of a phase gadget to zero, they do not contribute to the linear map. Since
determinism must hold regardless of the measurement angle, the determinism
must hence not ‘depend’ on the phase gadget’s existence. In Proposition <a href='#x12-206004r2'>9.3.2<!-- tex4ht:ref: prop:gflow-lcomp  --></a> we
showed that we can do the spider-removing version of local complementation
while preserving single-plane gflow. It turns out that we can split this up
into its component parts: local complementation, and spider removing.
Exercise <a href='#x12-209001r10'>9.10<!-- tex4ht:ref: exer:gflow-remove-spider  --></a> already shows how to remove a spider while preserving existence of
gflow.
</p>
   <div class='newtheorem'>
<!-- l. 671 --><p class='noindent'><span class='head'>
<a id='x12-209002r5'></a>
<span class='cmbx-10x-x-109'>Proposition 9.5.5.</span>  </span> Let <!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> be a
3-plane gflow for an open graph <!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><mi>G</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>I</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>O</mi><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>,
and let <!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
be an internal vertex. Then the local complementation of
<!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>G</mi></math> about
<!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>, written
<!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>⋆</mo> <mi>u</mi></mrow></math> has a 3-plane
gflow <!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mo class='MathClass-open' stretchy='false'>(</mo><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-punc' stretchy='false'>,</mo><mo class='MathClass-rel' stretchy='false'>≺</mo><mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
where <!-- l. 672 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup></math> is
defined by
                                                                     

                                                                     
</p><!-- tex4ht:inline --><!-- l. 683 --><math display='block' xmlns='http://www.w3.org/1998/Math/MathML'><mtable class='align-star' columnalign='left' displaystyle='true'>
            <mtr><mtd class='align-odd' columnalign='right'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace></mtd>            <mtd class='align-even'> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo>      <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext></mstyle><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>Y</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Z</mi><mo class='MathClass-close' stretchy='false'>}</mo></mtd>
</mtr><mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mi mathvariant='normal'>Δ</mi><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>else</mtext></mstyle>                </mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                                                 </mrow><mo fence='true' form='postfix'></mo></mrow></mrow><mspace width='2em'></mspace></mtd>            <mtd class='align-label' columnalign='right'></mtd>            <mtd class='align-label'>
            <mspace width='2em'></mspace></mtd></mtr><mtr><mtd class='align-odd' columnalign='right'><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mspace class='nbsp' width='0.33em'></mspace></mtd>            <mtd class='align-even'> <mo class='MathClass-punc' stretchy='false'>:</mo><mo class='MathClass-rel' stretchy='false'>=</mo> <mspace class='nbsp' width='0.33em'></mspace><mrow class='cases'> <mrow><mo fence='true' form='prefix'>{</mo><mrow> <mtable align='axis' class='array' columnlines='none' displaystyle='true' equalcolumns='false' equalrows='false' style=''> <mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo>               <mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext></mstyle><mi>u</mi><mo class='MathClass-rel' stretchy='false'>∉</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo> </mtd>
</mtr>  <mtr class='array-row'><mtd class='array-td' columnalign='left'><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mi mathvariant='normal'>Δ</mi><msup><mrow><mi>g</mi></mrow><mrow><mi>′</mi></mrow></msup><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo><mi mathvariant='normal'>Δ</mi><mo class='MathClass-open' stretchy='false'>{</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>}</mo><mspace class='quad' width='1em'></mspace></mtd><mtd class='array-td' columnalign='left'><mstyle class='text'><mtext>if </mtext></mstyle><mi>u</mi> <mo class='MathClass-rel' stretchy='false'>∈</mo><msub><mrow><mstyle class='text'><mtext>Odd</mtext></mstyle></mrow><mrow><mi>G</mi></mrow></msub><mo class='MathClass-open' stretchy='false'>(</mo><mi>g</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>v</mi><mo class='MathClass-close' stretchy='false'>)</mo><mo class='MathClass-close' stretchy='false'>)</mo></mtd></mtr> <!-- @{}l@{\quad }l@{} --></mtable>                                                      </mrow><mo fence='true' form='postfix'></mo></mrow></mrow><mspace width='2em'></mspace></mtd>            <mtd class='align-label' columnalign='right'></mtd>            <mtd class='align-label'>
   <mspace width='2em'></mspace></mtd></mtr></mtable></math>
<!-- l. 684 --><p class='noindent'>where <!-- l. 684 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> is any non-output
vertex not equal to <!-- l. 684 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>.
</p>
   </div>
<!-- l. 685 --><p class='indent'>    The proof of this proposition is similar to that of Proposition <a href='#x12-206004r2'>9.3.2<!-- tex4ht:ref: prop:gflow-lcomp  --></a>,
though with more case distinctions for all the different measurement planes
<!-- l. 686 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> and
<!-- l. 686 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> can
have. We leave the proof to the particularly motivated reader.
</p>
   <div class='newtheorem'>
<!-- l. 687 --><p class='noindent'><span class='head'>
<a id='x12-209003r11'></a>
<span class='cmbx-10x-x-109'>Exercise* 9.11.</span>  </span>Prove Proposition <a href='#x12-209002r5'>9.5.5<!-- tex4ht:ref: prop:gflow-lcomp-3plane  --></a>.
</p>
   </div>
<!-- l. 689 --><p class='indent'>    In Proposition <a href='#x12-209002r5'>9.5.5<!-- tex4ht:ref: prop:gflow-lcomp-3plane  --></a> we didn’t write out the measurement planes of the of the
vertices in <!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>G</mi> <mo class='MathClass-bin' stretchy='false'>⋆</mo> <mi>u</mi></mrow></math>.
But it is important to keep in mind that these <span class='cmti-10x-x-109'>do </span>change. Way back
in Section <a href='main_htmlch5.html#transforming-graph-states-using-local-complementation'>5.2.1<!-- tex4ht:ref: sec:lcomp  --></a> we saw that we can perform a local complementation
on a graph state by adding some local Cliffords. In particular, on
<!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> we add an
<!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>±</mo><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> <mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phase, while all of its
neighbours get a <!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Z</mi><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>∓</mo><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> <mo class='MathClass-close' stretchy='false'>)</mo></mrow></math> phase.
These <!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> </mrow></math> phases change the
measurement planes of <!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
and its neighbours. For instance, suppose that
<!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>t</mi><mo class='MathClass-open' stretchy='false'>(</mo><mi>u</mi><mo class='MathClass-close' stretchy='false'>)</mo> <mo class='MathClass-rel' stretchy='false'>=</mo> <mo class='MathClass-open' stretchy='false'>{</mo><mi>X</mi><mo class='MathClass-punc' stretchy='false'>,</mo><mi>Y</mi> <mo class='MathClass-close' stretchy='false'>}</mo></mrow></math>. Then when its
spider gains an <!-- l. 690 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>X</mi><mo class='MathClass-open' stretchy='false'>(</mo><mo class='MathClass-bin' stretchy='false'>−</mo><mfrac><mrow><mi>π</mi></mrow>
<mrow><mn>2</mn></mrow></mfrac> <mo class='MathClass-close' stretchy='false'>)</mo></mrow></math>
phase, we see that: </p><table class='equation'><tr><td>
<!-- l. 691 --><p class='indent'>
                                                                     

                                                                     
</p><!-- l. 691 --><object id='x12-209004r35' data="svgs/XY-to-XZ.svg" alt="diagram of XY-to-XZ" class="svg-diagram"></object></td><td class='eq-no'>(9.35)</td></tr></table>
<!-- l. 694 --><p class='indent'>   Hence, it becomes a spider measured in the
<!-- l. 694 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
plane. This gives us a new perspective on the spider-removing version of local
complementation: the local complementation changes the measurement plane
from <!-- l. 695 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
to <!-- l. 695 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>,
and then Exercise <a href='#x12-209001r10'>9.10<!-- tex4ht:ref: exer:gflow-remove-spider  --></a> shows us that we can remove a spider measured in the
<!-- l. 695 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> plane
without losing the existence of gflow. A pivot along the edge between vertices
<!-- l. 696 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math> and
<!-- l. 696 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math> is just a triple of local
complementations on <!-- l. 696 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>,
then <!-- l. 696 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>v</mi></math>, and
then <!-- l. 696 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>u</mi></math>
again. Hence, we see that a (regular, non-spider-removing) pivot also preserves
gflow! As we saw in Section <a href='main_htmlch5.html#pivoting'>5.2.2<!-- tex4ht:ref: sec:pivoting  --></a>, the spiders being pivoted on gain (or lose) a
Hadamard on their output wire:
</p>
<div class='center'>
<!-- l. 699 --><p class='noindent'>
</p><!-- l. 700 --><p class='noindent'><object data="svgs/pivot-desc.svg" alt="diagram of pivot-desc" class="svg-diagram"></object> </p></div>
<!-- l. 703 --><p class='indent'>   In our setting of measurement planes, this again means that their
measurement planes will change. In particular, the Z-spider of an
<!-- l. 703 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> measurement, becomes
the X-spider of an <!-- l. 703 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
measurement. This again allows us to decompose the preservation of gflow under the
spider-removing pivot as a sequence of two operations: first we pivot to change the
<!-- l. 703 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertices
into <!-- l. 703 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
vertices, and then we remove these vertices while preserving gflow using
Exercise <a href='#x12-209001r10'>9.10<!-- tex4ht:ref: exer:gflow-remove-spider  --></a>. This also immediately gets us the gflow preservation of
variations on the pivot we’ve seen. In particular, the gadget pivot
                                                                     

                                                                     
of Lemma <a href='main_htmlch7.html#x10-175005r1'>7.6.1<!-- tex4ht:ref: lem:pivot-gadget-simp  --></a> we can see as doing a regular pivot on a pair of
<!-- l. 704 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
vertices, where we then only remove the resulting
<!-- l. 704 --><object data="svgs/pivot-gadget-simp.svg" alt="diagram of pivot-gadget-simp" class="svg-diagram"></object>
vertex corresponding to the Pauli spider:
</p>
<div class='center'>
<!-- l. 706 --><p class='noindent'>
</p><!-- l. 707 --><p class='noindent'><object data="svgs/pivot-gadget-simp.svg" alt="diagram of pivot-gadget-simp" class="svg-diagram"></object> </p></div>
<!-- l. 710 --><p class='indent'>   The new phase gadget we get is the second spider of the pivot, which transforms
from <!-- l. 710 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
to <!-- l. 710 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>.
As pivoting preserves gflow, we see that the gadget pivot (which we now see is
just a regular pivot followed by a vertex removal) also preserves gflow. Hence, we
can introduce phase gadgets while preserving the existence of a 3-plane
gflow!
</p>
   <div class='newtheorem'>
<!-- l. 711 --><p class='noindent'><span class='head'>
<a id='x12-209005r12'></a>
<span class='cmbx-10x-x-109'>Exercise 9.12.</span>  </span> Prove that local complementation and pivoting have the
following effects on measurement planes: </p>
     <ul class='itemize1'>
     <li class='itemize'>For local complementation target: <!-- l. 714 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
     goes to <!-- l. 714 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>,
     and vice versa, while <!-- l. 714 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
     stays fixed.
     </li>
     <li class='itemize'>For local complementation neighbours: <!-- l. 715 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
     stays fixed, while <!-- l. 715 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
     and <!-- l. 715 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
     switch.
     </li>
     <li class='itemize'>For pivoting targets: <!-- l. 716 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
     switches with <!-- l. 716 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>,
     <!-- l. 716 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
     stays fixed.
     </li>
     <li class='itemize'>For pivoting neighbours: everything stays fixed. </li></ul>
   </div>
<!-- l. 719 --><p class='indent'>    We said at the start of this section that 3-plane patterns can be more
efficient in the number of qubits measured. We can now see why. In Section <a href='main_htmlch7.html#simplifying-universal-diagrams'>7.6<!-- tex4ht:ref: sec:simp-universal  --></a>
we observed that local complementation and pivoting do not necessarily remove
all internal Pauli spiders. In order to do so, we had to turn them into the base of
a phase gadget. While this does not decrease the total number of spiders in the
diagram, when viewing the diagram as a measurement pattern, the two
spiders of a phase gadget correspond to a single qubit measured in the
<!-- l. 720 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
plane. If the phase gadget has a Clifford phase, we can remove it, so we
observed that every internal spider either has a non-Clifford phase, or is part
of a phase gadget with a non-Clifford phase. Phrasing this in terms of
measurement patterns, we see that these rewrite rules allow us to remove all
non-input qubits that are measured in a Clifford angle. Since all steps
preserve gflow, the resulting compact pattern can still be deterministically
implemented.
</p>
   <div class='newtheorem'>
<!-- l. 721 --><p class='noindent'><span class='head'>
<a id='x12-209006r6'></a>
<span class='cmbx-10x-x-109'>Theorem 9.5.6.</span>  </span>For  every  3-plane  measurement  fragment  containing
<!-- l. 722 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>k</mi></math>
non-Clifford        non-input        measured        qubits,        we        can
efficiently find an equivalent measurement fragment that contains at most
<!-- l. 722 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>k</mi></math>
non-input measured qubits.
</p>
   </div>
<!-- l. 723 --><p class='indent'>
</p>
                                                                     

                                                                     
   <h4 class='subsectionHead' id='circuit-extraction-now-phase-gadget-compatible'><span class='titlemark'>9.5.2   </span> <a id='x12-2100009.5.2'></a>Circuit extraction, now phase gadget compatible</h4>
<!-- l. 725 --><p class='noindent'>It turns out we can also extract circuits from 3-plane patterns. To do this we
need to slightly modify the algorithm we described in Section <a href='#from-measurement-patterns-to-circuits'>9.4<!-- tex4ht:ref: sec:extraction  --></a>. First, let’s see
how that algorithm will go wrong when we have measurements not in the
<!-- l. 726 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
plane. Let’s consider the following example where we have a phase gadget (i.e. a
<!-- l. 727 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> plane
measurement) connected to the frontier: </p><table class='equation'><tr><td>
<!-- l. 728 --><p class='indent'>
</p><!-- l. 728 --><object id='x12-210001r36' data="svgs/eq-diagram-extract-phase-gadget.svg" alt="diagram of eq:diagram-extract-phase-gadget" class="svg-diagram"></object></td><td class='eq-no'>(9.36)</td></tr></table>
<!-- l. 731 --><p class='indent'>   Looking at the connectivity matrix we see there is no way to do row
operations to reduce any row to just have a single one. So our strategy for
extracting spiders one-by-one fails here. But remember that we introduced phase
gadgets into our diagrams by doing pivots (Lemmas <a href='main_htmlch7.html#x10-175005r1'>7.6.1<!-- tex4ht:ref: lem:pivot-gadget-simp  --></a> and <a href='main_htmlch7.html#x10-175006r2'>7.6.2<!-- tex4ht:ref: lem:pivot-boundary-simp  --></a>). So if a
pivot got us into this mess, perhaps another pivot can get us out of it:
</p><table class='equation'><tr><td>
<!-- l. 732 --><p class='indent'>
</p><!-- l. 732 --><object id='x12-210002r37' data="svgs/diagram-extract-phase-gadget-pivot.svg" alt="diagram of diagram-extract-phase-gadget-pivot" class="svg-diagram"></object></td><td class='eq-no'>(9.37)</td></tr></table>
<!-- l. 735 --><p class='indent'>   Success! Looking at the connectivity matrix we see that a single row operation
from qubit 2 to qubit 1 gives us the right connectivity to extract the spider with
the <!-- l. 735 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mi>α</mi></math>
phase. In general, the way we do circuit extraction is as
follows. First, we need to make sure our pattern only contains
<!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> and
                                                                     

                                                                     
<!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math> measurements,
no <!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
measurements allowed (we describe how to do this later). Then, as long as we have
<!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertices
we can extract, we extract them. When we get stuck, it must be because there
are <!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
vertices in the way. We do a pivot on them to change them into
<!-- l. 736 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertices,
and then we continue the process. Since all steps preserve gflow, this procedure
works and allows us to extract the full diagram.  So how do we get rid of the
<!-- l. 738 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> measurements?
We can do this by doing a series of smart pivots and local complementations to
change the measurement planes in useful ways (see Exercise <a href='#x12-209005r12'>9.12<!-- tex4ht:ref: exer:plane-changes  --></a>). First, if a
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> is connected to a
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>, we do a pivot on them.
This transforms the <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>
to <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>, but keeps the
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> as is. Once this is done
to all <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math> vertices, they
are only connected to <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
vertices and other <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
vertices. Then for each <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
vertex, we do a local complementation on them. This changes it into an
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertex. Neighbouring
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math> vertices stay the same,
but neighbouring <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
turn into <!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi>Y</mi> <mi>Z</mi></mrow></math>.
Hence, each application reduces the number of
<!-- l. 739 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XZ</mi></mrow></math>
vertices, so that we can get rid of all of them. All of these steps preserve gflow
and don’t increase or decrease the number of measurements (although they do
change the connectivity of the pattern).
</p>
   <div class='newtheorem'>
<!-- l. 740 --><p class='noindent'><span class='head'>
<a id='x12-210003r7'></a>
<span class='cmbx-10x-x-109'>Theorem 9.5.7.</span>  </span> We can efficiently turn a graph-like diagram with 3-plane
gflow into an equivalent quantum circuit.
</p>
   </div>
<!-- l. 742 --><p class='indent'>
                                                                     

                                                                     
</p>
   <h3 class='sectionHead' id='there-and-back-again'><span class='titlemark'>9.6   </span> <a id='x12-2110009.6'></a>There and back again</h3>
<!-- l. 744 --><p class='noindent'>Let’s summarise some of the things we have seen in this chapter. We introduced a
new way to perform quantum computations: using measurements. This
lead us to the notion of a measurement pattern, where we describe a set
of inputs, outputs, measurements and corrections. This model is also
universal for quantum computing, as we can implement arbitrary single-qubit
gates and CNOTs and compose these together. If we consider a single
branch of a measurement fragment (where we fix all the measurement
outcomes), this can be represented directly as a graph-like ZX-diagram.
Conversely, a graph-like ZX-diagram can be easily understood as a branch of a
measurement fragment. In this sense, graph-like diagrams and measurement
fragments are ‘the same thing’. This misses an important detail though:
determinism. A measurement fragment is deterministic when we can perform the
desired computation regardless of the observed measurement outcomes, by
applying the appropriate corrections. If our measurement fragment is
not deterministic it is considerably less useful, as it doesn’t allow us to
always calculate what we want. In that case we would need to post-select,
i.e. keep running the computation until we get the desired measurement
outcomes, to perform the correct calculation. We introduced a useful tool
for thinking of determinism: gflow. Gflow is not a property of a specific
measurement fragment, but rather of the underlying graph structure, and is
agnostic to the specific measurement angles in the pattern. To specify a
full deterministic measurement pattern we have to describe how all the
measurement angles change depending on the observed measurement
outcomes. If instead we know the pattern has gflow, then this is already
sufficient, as this allows us to construct a correction strategy. Instead of
deterministic measurement patterns we can hence consider the weaker
notion of graph-like diagram with gflow: the graph-like diagram tells us
what the map should be when we get the ideal outcomes, and the gflow
tells us how to correct when we get the wrong outcomes. This notion
is weaker, because there might also be other correction strategies that
do not correspond to a gflow strategy, or even measurement patterns
that do not have gflow but are still deterministic for ad-hoc reasons.
When we have such a graph-like diagram with gflow, we can efficiently
convert this back into a measurement-free (i.e. ancilla-free) quantum
circuit. Conversely, when we have a unitary quantum circuit, we can
write this as a graph-like diagram with gflow. By using ZX-diagrams as
an intermediary, we can translate back-and-forth between representing
a computation as a circuit vs a deterministic measurement fragment:
</p><table class='equation-star'><tr><td>
                                                                     

                                                                     
<!-- l. 750 --><object data="svgs/MBQC-example.svg" alt="diagram of MBQC-example" class="svg-diagram"></object></td></tr></table>
<!-- l. 753 --><p class='indent'>   In Chapters <a href='main_htmlch5.html#clifford-circuits-and-diagrams'>5<!-- tex4ht:ref: ch:clifford  --></a> and <a href='main_htmlch7.html#universal-circuits'>7<!-- tex4ht:ref: ch:universal  --></a> we saw strategies for optimising ZX-diagrams, and in
particular to remove spiders from the diagram. In this chapter we have seen that
these rewrites based on local complementation and pivoting preserve the
existence of gflow on the underlying open graph. This allows us to think of these
rewrites not just as spider-removing simplifications on ZX-diagrams, but as
‘qubit-removing’ (or ‘measurement-removing’) simplifications on deterministic
measurement patterns. Essentially, these rewrites, even a variant like the gadget
pivot, can be seen as ways to get rid of qubits measured in a Clifford angle.
This is yet another way in which we can think of the Clifford operations
as being ‘easy’: when we measure a qubit in a Clifford angle, we can
find an equivalent pattern where that qubit wasn’t necessary in the first
place.
</p>
   <h3 class='sectionHead' id='summary-what-to-remember6'><span class='titlemark'>9.7   </span> <a id='x12-2120009.7'></a>Summary: What to remember</h3>
<!-- l. 761 --><p class='noindent'>
     </p><dl class='enumerate'><dt class='enumerate'>
  1.. </dt><dd class='enumerate'>
     <!-- l. 761 --><p class='noindent'>In   <span class='cmti-10x-x-109'>measurement-based   quantum   computing   </span>we   use   quantum
     measurements as an integral part of the computation, instead of just
     using them at the end to get the result out of the final computation.
     </p></dd><dt class='enumerate'>
  2.. </dt><dd class='enumerate'>
     <!-- l. 762 --><p class='noindent'>There  are  many  different  variants  on  measurement-based  quantum
     computing, but one particularly well-studied model that lies on the
     extreme  end  of  doing  all  computations  via  measurements  is  the
     <span class='cmti-10x-x-109'>one-way model</span>.
</p>
                                                                     

                                                                     
     <div class='center'>
<!-- l. 764 --><p class='noindent'>
</p><!-- l. 765 --><p class='noindent'><object data="svgs/MBQC-example.svg" alt="diagram of MBQC-example" class="svg-diagram"></object> </p></div>
     </dd><dt class='enumerate'>
  3.. </dt><dd class='enumerate'>
     <!-- l. 768 --><p class='noindent'>In the one-way model you start by preparing a graph state. Then
     single-qubit measurements are performed in rotated bases in order to do
     computations. Later measurement angles are allowed to depend on previous
     measurement outcomes. </p><table class='equation-star'><tr><td>
     <!-- l. 769 --><object data="svgs/bloch-planes.svg" alt="diagram of bloch-planes" class="svg-diagram"></object></td></tr></table>
     </dd><dt class='enumerate'>
  4.. </dt><dd class='enumerate'>
     <!-- l. 772 --><p class='noindent'>Just like how a quantum circuit is built out of gates, we can view a one-way
     model computation as being built out of <span class='cmti-10x-x-109'>measurement fragments</span>, which
     have in- and outputs (Definition <a href='#x12-198013r5'>9.1.5<!-- tex4ht:ref: def:measurement-fragment  --></a>), and say how Pauli errors should be
     propagated from inputs to outputs.
</p>
     <div class='center'>
<!-- l. 774 --><p class='noindent'>
</p><!-- l. 775 --><p class='noindent'><object data="svgs/MBQC-CNOT-labelled.svg" alt="diagram of MBQC-CNOT-labelled" class="svg-diagram"></object> </p></div>
     </dd><dt class='enumerate'>
  5.. </dt><dd class='enumerate'>
                                                                     

                                                                     
     <!-- l. 778 --><p class='noindent'>An important consideration for a measurement fragment is whether it
     is <span class='cmti-10x-x-109'>deterministic</span>, meaning that regardless of all the intermediate
     measurement outcomes, the overall linear map that is performed is the
     same (up to a known Pauli error that is being propagated into the
     future).
</p>
     <div class='center'>
<!-- l. 780 --><p class='noindent'>
</p><!-- l. 781 --><p class='noindent'><object data="svgs/MBQC-euler-decomp-full.svg" alt="diagram of MBQC-euler-decomp-full" class="svg-diagram"></object> </p></div>
     </dd><dt class='enumerate'>
  6.. </dt><dd class='enumerate'>
     <!-- l. 784 --><p class='noindent'>One particular strategy for ensuring a fragment is deterministic
     is for the underlying open graph to have a property called <span class='cmti-10x-x-109'>gflow</span>
     (Definition <a href='#x12-202008r2'>9.2.2<!-- tex4ht:ref: def:gflow  --></a>, Theorem <a href='#x12-203001r4'>9.2.4<!-- tex4ht:ref: thm:gflow-zx-determinism  --></a>). We can understand the existence of
     gflow as giving a winning strategy to the ‘measurement correction game’
     (Section <a href='#the-measurement-correction-game'>9.2.2<!-- tex4ht:ref: sec:measurement-correction-game  --></a>).
     </p></dd><dt class='enumerate'>
  7.. </dt><dd class='enumerate'>
     <!-- l. 785 --><p class='noindent'>We can view measurement fragments as graph-like ZX-diagrams, and vice
     versa we can interpret a graph-like ZX-diagram as a measurement fragment
     without a specified order of measurement.
</p>
     <div class='center'>
<!-- l. 787 --><p class='noindent'>
</p><!-- l. 788 --><p class='noindent'><object data="svgs/MBQC-from-graph-like.svg" alt="diagram of MBQC-from-graph-like" class="svg-diagram"></object> </p></div>
     </dd><dt class='enumerate'>
  8.. </dt><dd class='enumerate'>
     <!-- l. 791 --><p class='noindent'>There is an efficient strategy to translate a circuit into a measurement
     fragment with gflow (Proposition <a href='#x12-204001r6'>9.2.6<!-- tex4ht:ref: prop:circuit-to-gflow  --></a>). </p><table class='equation-star'><tr><td>
                                                                     

                                                                     
     <!-- l. 792 --><object data="svgs/circuit-spider-coordinates.svg" alt="diagram of circuit-spider-coordinates" class="svg-diagram"></object></td></tr></table>
     </dd><dt class='enumerate'>
  9.. </dt><dd class='enumerate'>
     <!-- l. 795 --><p class='noindent'>There is an efficient strategy to translate a measurement pattern with
     gflow, or equivalently a ZX-diagram with gflow, back into a circuit
     (Theorem <a href='#x12-207007r2'>9.4.2<!-- tex4ht:ref: thm:circuit-extraction-zx  --></a>). </p><table class='equation-star'><tr><td>
     <!-- l. 796 --><object data="svgs/diagram-extract-cnot-reduce.svg" alt="diagram of diagram-extract-cnot-reduce" class="svg-diagram"></object></td></tr></table>
     </dd><dt class='enumerate'>
 10.. </dt><dd class='enumerate'>
     <!-- l. 799 --><p class='noindent'>While the one-way model with just measurements in the
     <!-- l. 799 --><math display='inline' xmlns='http://www.w3.org/1998/Math/MathML'><mrow><mi mathvariant='italic'>XY</mi> </mrow></math>
     plane is already universal, allowing measurements in all three principal
     planes allows for more compact patterns. There is a notion of gflow
     that works for measurements in all three planes (Definition <a href='#x12-208007r2'>9.5.2<!-- tex4ht:ref: def:gflow-3  --></a>,
     Theorem <a href='#x12-208013r3'>9.5.3<!-- tex4ht:ref: thm:gflow-zx-3-plane  --></a>), and the circuit extraction algorithm can be adapted to
     work for that (Theorem <a href='#x12-210003r7'>9.5.7<!-- tex4ht:ref: thm:circuit-extraction-3-plane  --></a>).
     </p></dd><dt class='enumerate'>
 11.. </dt><dd class='enumerate'>
     <!-- l. 800 --><p class='noindent'>The ZX rewrite strategy of Section <a href='main_htmlch7.html#simplifying-universal-diagrams'>7.6<!-- tex4ht:ref: sec:simp-universal  --></a> involving phase gadgets preserves
     the existence of 3-plane gflow. </p></dd></dl>
                                                                     

                                                                     
<!-- l. 802 --><p class='noindent'>
</p>
   <h3 class='sectionHead' id='references-and-further-reading6'><span class='titlemark'>9.8   </span> <a id='x12-2130009.8'></a>References and further reading</h3>
<!-- l. 803 --><p class='noindent'><span class='paragraphHead' id='the-oneway-model'><a id='x12-214000'></a><span class='cmbx-10x-x-109'>The one-way model</span></span>
   The one-way model was originally proposed by [<a href='main_htmlli3.html#Xraussendorf2001one'>196</a>], where they also
immediately showed how the cluster state can be used as a universal resource for
quantum computation. The cluster state itself was introduced by the same
authors in a paper earlier that year [<a href='main_htmlli3.html#Xbriegel2001persistent'>40</a>]. In a paper the following year they
formalised the model underlying the one-way model more, and they showed that
a Clifford computation can be performed in a single time-step [<a href='main_htmlli3.html#XRaussendorf2002Computational'>198</a>]. These
authors revisit computing on cluster states in more detail in [<a href='main_htmlli3.html#XMBQC2'>199</a>] which also
coins the term ‘measurement-based quantum computing. The authors together
with several others review all the progress made on the one-way model some
years later [<a href='main_htmlli3.html#Xbriegel2009measurement'>39</a>].
</p>
<!-- l. 804 --><p class='noindent'><span class='paragraphHead' id='measurement-patterns-and-fragments'><a id='x12-215000'></a><span class='cmbx-10x-x-109'>Measurement patterns and fragments</span></span>
   The notion of a measurement pattern was formalised in [<a href='main_htmlli3.html#Xdanos2007measurement'>70</a>], and
how to compose these together as fragments and ‘normalise’ them into a
standard format where we first do all state preparations and only then do
measurements in [<a href='main_htmlli3.html#Xdanos2009extended'>71</a>]. How to represent these patterns in ZX was first described
by [<a href='main_htmlli3.html#Xduncan2010rewriting'>91</a>].
</p>
<!-- l. 806 --><p class='noindent'><span class='paragraphHead' id='flow-and-determinism'><a id='x12-216000'></a><span class='cmbx-10x-x-109'>Flow and determinism</span></span>
   The notion of <span class='cmti-10x-x-109'>causal flow </span>was introduced by [<a href='main_htmlli3.html#XDanos2006Determinism-in-'>69</a>]. This was later extended to
<span class='cmti-10x-x-109'>generalised flow</span>, or gflow, by [<a href='main_htmlli3.html#XGFlow'>43</a>], where they show that certain graph states do
not allow causal flow, but do allow gflow. This paper defined both the
single-plane gflow and three-plane gflow, though our presentation of three-plane
gflow is a bit simplified. Furthermore, [<a href='main_htmlli3.html#XGFlow'>43</a>] showed that a measurement pattern
has a gflow if and only if the pattern is <span class='cmti-10x-x-109'>uniformly</span>, <span class='cmti-10x-x-109'>strongly </span>and <span class='cmti-10x-x-109'>stepwise</span>
deterministic. Uniformity means that the determinism holds for any choice of
measurement angle. Strong determinism means that every measurement outcome
happens with equal probability. The stepwise determinism means that
we retrieve a deterministic pattern after every single measurement. Or
in other words, that the necessary corrections depend only on a single
previous outcome. Hence, while there are deterministic patterns that do not
have gflow, when they are sufficiently ‘regular’ and the reason for their
determinism ‘not too complex’, it will have a gflow. Finally, [<a href='main_htmlli3.html#XGFlow'>43</a>] also
introduced <span class='cmti-10x-x-109'>Pauli flow</span>, which can deal with patterns where some qubits are
designated to be measured in a Clifford angle. Hence, the uniformity condition
                                                                     

                                                                     
doesn’t apply to these qubits. Because measurements in a Clifford angle
essentially belong to two principal planes of the Bloch sphere at the same
time, they can be corrected, and be part of correction sets, in more ways
than general measurements, so that their gflow conditions can be less
strict.
</p>
<!-- l. 809 --><p class='noindent'><span class='paragraphHead' id='circuit-extraction'><a id='x12-217000'></a><span class='cmbx-10x-x-109'>Circuit extraction</span></span>
   An algorithm for extracting a circuit without ancilla from a measurement
pattern with single-plane gflow was given by [<a href='main_htmlli3.html#Xmiyazaki2015analysis'>181</a>]. This was based on finding a
<span class='cmti-10x-x-109'>path-cover </span>of the open graph, and then resolving ‘acausal’ CZ gates by pushing
them through other gates until they were acting at the same point in time on the
two qubits. Independently, a different algorithm phrased in the language of
ZX was given in [<a href='main_htmlli3.html#Xduncan2019graph'>88</a>]. This was then extended to work for three-plane
gflow in [<a href='main_htmlli3.html#Xwetering-gflow'>23</a>]. The procedure we show in this chapter is based on that
article.
</p>
<!-- l. 811 --><p class='noindent'><span class='paragraphHead' id='rewriting-measurement-patterns'><a id='x12-218000'></a><span class='cmbx-10x-x-109'>Rewriting measurement patterns</span></span>
   How a local complementation changes a graph state was noted in [<a href='main_htmlli3.html#Xelliott2008graphical'>94</a>], and
specifically for pivots in [<a href='main_htmlli3.html#Xmhalla_hal-00934104'>178</a>]. That these operations preserve gflow was shown
in [<a href='main_htmlli3.html#Xduncan2019graph'>88</a>], that they preserve 3-plane gflow in [<a href='main_htmlli3.html#Xwetering-gflow'>23</a>] and that they preserve Pauli flow
in [<a href='main_htmlli3.html#XSimmons2021Measurement'>213</a>]. This chapter is based on [<a href='main_htmlli3.html#Xduncan2019graph'>88</a>] and [<a href='main_htmlli3.html#Xwetering-gflow'>23</a>].
</p>
<!-- l. 813 --><p class='noindent'><span class='paragraphHead' id='other-measurementbased-models'><a id='x12-219000'></a><span class='cmbx-10x-x-109'>Other measurement-based models</span></span>
   The one-way model is not the only way to do measurement based quantum
computing. We can also do universal computation using AKLT states [<a href='main_htmlli3.html#Xwei20112d'>236</a>], a
state based on phase gadgets [<a href='main_htmlli3.html#Xkissinger2017MBQC'>145</a>], or generalisations of graph states
known as <span class='cmti-10x-x-109'>hypergraph states</span>, that are built using multi-qubit controlled-Z
operations [<a href='main_htmlli3.html#Xmiller2016hierarchy'>180</a>, <a href='main_htmlli3.html#Xtakeuchi2018quantum'>220</a>]. For a ZX perspective on hypergraph states, see [<a href='main_htmlli3.html#XLemonnier2020hypergraph'>163</a>]. We
can also view the <span class='cmti-10x-x-109'>lattice surgery </span>operations we will explore in Chapter <a href='main_htmlch12.html#quantum-error-correction'>12<!-- tex4ht:ref: ch:qec  --></a> as a
measurement-based model, see [<a href='main_htmlli3.html#XdeBeaudrap2020Paulifusion'>76</a>].
</p>
<!-- l. 815 --><p class='noindent'><span class='paragraphHead' id='applications-of-mbqc'><a id='x12-220000'></a><span class='cmbx-10x-x-109'>Applications of MBQC</span></span>
   There are several suggested applications of MBQC that don’t make sense
when just talking about circuits. Representing a circuit by a measurement
pattern allows you to parallelise more operations, creating a less deep, but
more wide computation [<a href='main_htmlli3.html#XBROADBENT20092489'>42</a>], in some cases even being able to reduce a
computation from linear depth to logarithmic depth. The notion of <span class='cmti-10x-x-109'>blind</span>
quantum computation [<a href='main_htmlli3.html#XBroadbentBlind'>41</a>] was also demonstrated using MBQC. In blind
computation, a client which only has the ability to prepare single-qubit
                                                                     

                                                                     
states and transmit them, can delegate a computation to a server in such
a way that the server does not know what it is computing. Hence, in
this way you can do quantum computations ‘on the cloud’ without you
having to share your data or what you are trying to compute. MBQC is
ideally suited for such a scheme, because the qubits sent by the client
either generate or block entanglement when the server tries to make a
graph state with them. Finally, MBQC is also a natural framework for
understanding computations with photons as the qubits. Photons are
then non-deterministically entangled using ‘fusion’ operations (which
are not the same as spider fusions, though they are related [<a href='main_htmlli3.html#XdeBeaudrap2020Paulifusion'>76</a>]), which
results in a resource state which has some random structure. By analysing
average case behaviour, deterministic computations can still be run on
such a <span class='cmti-10x-x-109'>ballistic </span>state [<a href='main_htmlli3.html#Xmorley2017physical'>184</a>, <a href='main_htmlli3.html#Xgimeno2015three'>108</a>].    </p><!-- l. 7 --><div class='crosslinks'><p class='noindent'>[<a href='main_htmlch10.html'>next</a>] [<a href='main_htmlch8.html'>prev</a>] [<a href='main_htmlch8.html#tailmain_htmlch8.html'>prev-tail</a>] [<a href='main_htmlch9.html'>front</a>] [<a href='main_html.html#main_htmlch9.html'>up</a>]
</p></div>
<!-- l. 7 --><p class='indent'>   <a id='tailmain_htmlch9.html'></a></p> 
<script type="text/javascript" src="proof_collapse.js"></script> 
<script type="text/javascript" src="navigation_menu.js"></script>
<script type="text/javascript" src="update_figure_margins.js"></script></body> 
</html>